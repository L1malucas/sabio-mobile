(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"0kSe":function(n,t,o){"use strict";o.r(t),o.d(t,"AcademicoAba4PageModule",(function(){return x}));var i=o("TEn/"),e=o("tyNb"),c=o("ofXK"),a=o("3Pt+"),r=o("mrSG"),s=o("amDQ"),l=o("fFck"),b=o("fXoL"),g=o("afdR"),d=o("g8ne"),u=o("FAH8"),P=o("cI5j");function C(n,t){if(1&n&&(b.Qb(0,"small"),b.Qb(1,"b"),b.Cc(2,"Celular:"),b.Pb(),b.Mb(3,"br"),b.Cc(4),b.Pb()),2&n){const n=b.bc();b.zb(4),b.Ec(" ",n.cub3Svc.formatarTelefone(n.usuario.celular),"")}}function m(n,t){if(1&n&&(b.Qb(0,"small"),b.Qb(1,"b"),b.Cc(2,"CPF:"),b.Pb(),b.Mb(3,"br"),b.Cc(4),b.Pb()),2&n){const n=b.bc();b.zb(4),b.Ec(" ",n.cub3Svc.getCpfTexto(n.usuario.cpf),"")}}function M(n,t){if(1&n&&(b.Qb(0,"small"),b.Qb(1,"b"),b.Cc(2,"E-mail:"),b.Pb(),b.Mb(3,"br"),b.Cc(4),b.Pb()),2&n){const n=b.bc();b.zb(4),b.Ec(" ",n.usuario.email,"")}}let O=(()=>{class n{constructor(n,t,o,i,e,c){this.cub3Svc=n,this.cub3Db=t,this.file=o,this.router=i,this.activatedRoute=e,this.actionSheetController=c,this.usuario=s.a.getAccount(),this.abaAtiva="documentos",this.logSinc=[],this.arquivos=[],this.init()}logout(){s.a.logout(),setTimeout(()=>{this.router.navigate(["/"])},300)}limparDados(){return Object(r.a)(this,void 0,void 0,(function*(){let n=yield this.cub3Svc.carregar(1,"Atualizando...");yield this.cub3Db.setStorage("MOB_REGISTRO_AULA",[]),yield this.cub3Db.setStorage("MOV_REGISTRO_FREQUENCIA",[]),yield this.cub3Svc.sincronizar("MOB_REGISTRO_AULA"),n.dismiss()}))}sincronizar(){return Object(r.a)(this,void 0,void 0,(function*(){let n=yield this.cub3Svc.carregar(1,"Atualizando..."),t={};try{const n=yield this.cub3Svc.getNode("educanet/profissional/mobile");n&&n.dados&&(t=n.dados||{})}catch(o){}s.a.setItem("escolas",t),n.dismiss()}))}apagarArquivos(){return Object(r.a)(this,void 0,void 0,(function*(){let n=["videos","materiais"],t=yield this.cub3Svc.carregar(1,"Removendo arquivos...");for(let o of n)this.file.listDir(this.file.dataDirectory,o).then(n=>{for(let t of n)1==t.isFile&&this.file.removeFile(this.file.dataDirectory+o,t.name).then(n=>{console.log("Arquivo removido: ",this.file),n.fileRemoved.getMetadata((function(n){}))}).catch(n=>{t.getMetadata((function(t){console.log("Erro ao deletar arquivo: ",n)}))})});setTimeout(()=>{t.dismiss(),this.cub3Svc.alerta("Remo\xe7\xe3o de arquivos","Arquivo removido com sucesso!")},3e3)}))}getMateriais(){return Object(r.a)(this,void 0,void 0,(function*(){const n=yield this.cub3Svc.carregar(1);this.cub3Svc.getNode("arquivos/listar?limiteInicial=0&limiteFinal=9").then(t=>{n.dismiss(),t&&t.dados&&(this.arquivos=t.dados)},()=>{n.dismiss()})}))}selecionarArquivo(n){return Object(r.a)(this,void 0,void 0,(function*(){const t=yield this.actionSheetController.create({header:"Arquivo: "+n.titulo,cssClass:"my-custom-class",buttons:[{text:"Deletar",role:"destructive",icon:"trash",handler:()=>{console.log("Delete clicked")}},{text:"Compartilhar",icon:"share",handler:()=>{console.log("Share clicked")}},{text:"Baixar",icon:"download",handler:()=>{this.cub3Svc.download(l.l+"arquivo?url="+n.src).subscribe(t=>{const o=document.createElement("a"),i=(n.mimeType.split("/"),URL.createObjectURL(t));o.href=i,o.download=n.arquivo,o.click(),URL.revokeObjectURL(i)})}},{text:"Cancelar",icon:"close",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]});yield t.present(),yield t.onDidDismiss()}))}ionViewWillEnter(){this.init()}init(){return Object(r.a)(this,void 0,void 0,(function*(){this.usuario=s.a.getAccount(),this.getMateriais();const n=s.a.getItem("logSinc");null!=n&&""!=n?this.logSinc=n:(this.logSinc=[],s.a.setItem("logSinc",this.logSinc))}))}sincronizarTudo(){this.cub3Svc.sincronizar("GERAL").then(()=>{this.cub3Svc.sincronizar("MOB_PROF_FRQ").then(()=>{this.cub3Svc.sincronizar("MOB_AVALIACAO_NOTA").then(()=>{this.cub3Svc.sincronizar("MOB_REGISTRO_AULA").then(()=>{this.cub3Svc.sincronizar("MOB_OCORRENCIAS").then(()=>{},()=>{})},()=>{})},()=>{})},()=>{})},()=>{})}}return n.\u0275fac=function(t){return new(t||n)(b.Lb(g.a),b.Lb(d.a),b.Lb(u.a),b.Lb(e.g),b.Lb(e.a),b.Lb(i.a))},n.\u0275cmp=b.Fb({type:n,selectors:[["app-academico-aba4"]],decls:51,vars:9,consts:[[3,"fullscreen"],[3,"titulo","icone","exibirAvatar"],["id","container"],["size","2"],[2,"max-width","100%"],["src","assets/img/avatar-padrao.png"],["size","10"],[2,"padding","0","margin","0"],[2,"font-style","bold"],["size","6"],[4,"ngIf"],[1,"listOpcoes"],["lines","none",3,"click"],["name","sync-outline","slot","end"],["name","trash-outline","slot","end"],["name","exit-outline","slot","end"]],template:function(n,t){1&n&&(b.Qb(0,"ion-content",0),b.Mb(1,"cub3-header",1),b.Qb(2,"div",2),b.Qb(3,"ion-slides"),b.Qb(4,"ion-slide"),b.Qb(5,"ion-row"),b.Qb(6,"ion-col",3),b.Qb(7,"ion-avatar",4),b.Mb(8,"img",5),b.Pb(),b.Pb(),b.Qb(9,"ion-col",6),b.Qb(10,"h3",7),b.Cc(11),b.Mb(12,"br"),b.Qb(13,"ion-chip"),b.Qb(14,"span",8),b.Cc(15),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(16,"ion-row"),b.Qb(17,"ion-col",9),b.Ac(18,C,5,1,"small",10),b.Pb(),b.Qb(19,"ion-col",9),b.Ac(20,m,5,1,"small",10),b.Mb(21,"br"),b.Pb(),b.Qb(22,"ion-col"),b.Ac(23,M,5,1,"small",10),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(24,"ion-list",11),b.Qb(25,"ion-item",12),b.Yb("click",(function(){return t.sincronizar()})),b.Qb(26,"ion-label"),b.Qb(27,"b"),b.Cc(28,"Sincronizar sess\xe3o"),b.Pb(),b.Mb(29,"br"),b.Qb(30,"small"),b.Cc(31,"Atualiza informa\xe7\xf5es de escolas, turmas e conte\xfado."),b.Pb(),b.Pb(),b.Mb(32,"ion-icon",13),b.Pb(),b.Pb(),b.Qb(33,"ion-list",11),b.Qb(34,"ion-item",12),b.Yb("click",(function(){return t.limparDados()})),b.Qb(35,"ion-label"),b.Qb(36,"b"),b.Cc(37,"Limpar aulas"),b.Pb(),b.Mb(38,"br"),b.Qb(39,"small"),b.Cc(40,"Realiza a limpeza de aulas registradas pelo aplicativo."),b.Pb(),b.Pb(),b.Mb(41,"ion-icon",14),b.Pb(),b.Pb(),b.Qb(42,"ion-list",11),b.Qb(43,"ion-item",12),b.Yb("click",(function(){return t.logout()})),b.Qb(44,"ion-label"),b.Qb(45,"b"),b.Cc(46,"Finalizar sess\xe3o"),b.Pb(),b.Mb(47,"br"),b.Qb(48,"small"),b.Cc(49,"Realiza logout e retorna para a tela de login."),b.Pb(),b.Pb(),b.Mb(50,"ion-icon",15),b.Pb(),b.Pb(),b.Pb(),b.Pb()),2&n&&(b.hc("fullscreen",!0),b.zb(1),b.hc("titulo","Meus<br /> <b>Arquivos</b>")("icone","sync-outline")("exibirAvatar",!1),b.zb(10),b.Dc(t.cub3Svc.normalizeString(t.usuario.nome)),b.zb(4),b.Dc(t.cub3Svc.normalizeString(t.usuario.desPerfil)||"Usu\xe1rio"),b.zb(3),b.hc("ngIf",t.usuario.celular),b.zb(2),b.hc("ngIf",t.usuario.cpf),b.zb(3),b.hc("ngIf",t.usuario.email))},directives:[i.u,P.a,i.ob,i.nb,i.gb,i.t,i.f,i.s,c.t,i.O,i.H,i.N,i.C],styles:["#container[_ngcontent-%COMP%]{padding:10px 20px}.icone-card[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;width:30px}#arquivos-lista[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{width:30%;float:left;background:#eee;height:160px}ion-footer[_ngcontent-%COMP%]:before{display:none;visibility:hidden}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:transparent}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .toolbar-container[_ngcontent-%COMP%]{--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%;height:56px;position:relative;display:block;margin:0;border-radius:0;font-weight:700}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button.azul[_ngcontent-%COMP%]{--ion-color-base:#fff!important;--ion-color-contrast:var(--ion-color-azul)!important}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button.rosa[_ngcontent-%COMP%]{--ion-color-base:#fff!important;--ion-color-contrast:var(--ion-color-rosa)!important}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button.verde[_ngcontent-%COMP%]{--ion-color-base:#fff!important;--ion-color-contrast:var(--ion-color-verde)!important}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button.amarelo[_ngcontent-%COMP%]{--ion-color-base:#000!important;--ion-color-contrast:var(--ion-color-amarelo)!important}.carregando[_ngcontent-%COMP%]{margin:40px auto}.alunos-lista[_ngcontent-%COMP%], ion-card-content[_ngcontent-%COMP%]{padding:0;margin:0}ion-card[_ngcontent-%COMP%]{width:100%!important;margin:0!important}ion-card[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:0!important}.table-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:12px!important}.alunos-lista[_ngcontent-%COMP%]{margin:0!important;width:100%!important}.alunos-lista[_ngcontent-%COMP%]   .btnFrequencia[_ngcontent-%COMP%]{max-width:100%;--padding-start:10px!important;--padding-end:10px!important;margin:auto;display:block;position:relative}.alunos-lista[_ngcontent-%COMP%]   .item.odd[_ngcontent-%COMP%]{background:#eee}.alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{height:50px;line-height:50px;vertical-align:middle;justify-content:center;border-bottom:1px solid #ccc}.alunos-lista[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:active{background:var(--ion-color-primary)}.alunos-lista[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:active   .label[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:active   h2[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:active   ion-icon[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:active   p[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:active   span[_ngcontent-%COMP%]{color:#fff!important}.alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{border:2px solid var(--ion-color-secondary);background:#ddd;text-align:center;font-weight:700;opacity:1!important;width:100%;margin:0}.alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .aluno[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden}.alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .aluno[_ngcontent-%COMP%]{font-size:1rem;max-width:100%;display:block}.text-center[_ngcontent-%COMP%]{text-align:center!important;justify-content:center}.btnFrequencia[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-right:10px;font-size:3rem}.btnAusente[_ngcontent-%COMP%]{float:right}.btnPresente[_ngcontent-%COMP%]{float:left}ion-content[_ngcontent-%COMP%]{height:calc(100vh - 50px)}ion-footer[_ngcontent-%COMP%]{background:#eee;border-top:2px solid #ddd}ion-footer[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0;display:flex;justify-content:center;align-items:center}ion-footer[_ngcontent-%COMP%]   .btn-finalizar[_ngcontent-%COMP%]{font-size:1.2rem;top:-14px}.avatar[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;margin:0;-o-object-fit:cover;object-fit:cover;-o-object-position:center right;object-position:center right}ion-slides[_ngcontent-%COMP%]{margin:20px;background:#fafafa;padding:0;border-radius:20px}ion-slides[_ngcontent-%COMP%], ion-slides[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]{align-items:center;justify-content:center}ion-slides[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]{width:100%;padding:20px;display:flex;flex-direction:column}"]}),n})();var p=o("Pwjy"),_=o("QUrN");const h=[{path:"",component:O}];let f=(()=>{class n{}return n.\u0275mod=b.Jb({type:n}),n.\u0275inj=b.Ib({factory:function(t){return new(t||n)},imports:[[e.k.forChild(h)],e.k]}),n})();var v=o("HBpY");let x=(()=>{class n{}return n.\u0275mod=b.Jb({type:n}),n.\u0275inj=b.Ib({factory:function(t){return new(t||n)},imports:[[i.Bb,v.a,c.c,a.e,_.l,p.a,e.k.forChild([{path:"",component:O}]),f]]}),n})()}}]);