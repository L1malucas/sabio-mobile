 <cub3-header [titulo]="'Plano de <br /> <b>Ensino</b>'" [voltar]="true" [icone]="'bookmarks-outline'" [exibirAvatar]="false"></cub3-header>
<ion-content>

	<div id="container" *ngIf="data">
	    <ion-row>
	      <ion-col>
	        <h4 class="header4">Filtro do <b>plano de ensino</b></h4>
	      </ion-col>
	    </ion-row>

		<ion-list class="notify-list" *ngIf="data.MOB_ESCOLA">
		  <ion-item lines="none">
		    <ion-label>Escola</ion-label>
		    <ion-select placeholder="Selecione uma escola" *ngIf="data.MOB_ESCOLA.length > 0" [(ngModel)]="dados.IDF_ESCOLA" (ionChange)="getConteudo($event)">
		      <ion-select-option  *ngFor="let item of data.MOB_ESCOLA" value="{{item.IDF_ESCOLA}}">{{item.NME_ESCOLA}}</ion-select-option> 
		    </ion-select>
		  </ion-item>
		</ion-list>

		<ion-list class="notify-list" *ngIf="data.MOB_ETAPAS">
		  <ion-item lines="none">
		    <ion-label>Etapa</ion-label>
		    <ion-select placeholder="Selecione uma etapa" *ngIf="data.MOB_ETAPAS.length > 0" [(ngModel)]="dados.IDF_ETAPA" (ionChange)="getConteudo($event)">
		      <ion-select-option  *ngFor="let item of data.MOB_ETAPAS" value="{{item.IDF_ETAPA}}">{{item.DES_ETAPA}}</ion-select-option> 
		    </ion-select>
		  </ion-item>
		</ion-list>
		<ion-list class="notify-list" *ngIf="periodo">
		  <ion-item lines="none">
		    <ion-label>Período</ion-label>
		    <ion-select placeholder="Selecione um período" *ngIf="periodo.length > 0" [(ngModel)]="dados.DES_AVALIACAO" (ionChange)="getConteudo($event)">
		      <ion-select-option  *ngFor="let item of getPeriodos()" value="{{item}}">{{item}}</ion-select-option> 
		    </ion-select>
		  </ion-item>
		</ion-list>

		<ion-list class="notify-list" *ngIf="data.MOB_DISCIPLINAS">
		  <ion-item lines="none">
		    <ion-label>Disciplina</ion-label>
		    <ion-select placeholder="Selecione uma disciplina" *ngIf="data.MOB_DISCIPLINAS.length > 0" [(ngModel)]="dados.IDF_DISCIPLINA" (ionChange)="getConteudo($event)">
		      <ion-select-option  *ngFor="let item of data.MOB_DISCIPLINAS" value="{{item.IDF_DISCIPLINA}}">{{item.NME_DISCIPLINA}}</ion-select-option> 
		    </ion-select>
		  </ion-item>
		</ion-list>
        <ion-row *ngIf="getConteudo().length > 0">
          <ion-col>
            <h4 class="header4">Detalhes do plano de <b>ensino</b></h4>
          </ion-col>
        </ion-row>
		<ion-list >
			<ng-container  *ngFor="let item of getConteudo()">
			  <ion-card    class="ion-activatable ripple-parent"  *ngIf="item.IDF_PROFISSIONAL == usuario.id">
			  	<ion-row>
			  		<ion-col>
				  		<ion-label><b>{{item.NME_TURMA}}</b><br /><small>{{item.DES_DISCIPLINA}}</small>
				  		<ion-badge slot="end" color="primary">
				  			{{item.ANO_LETIVO}}
				  		</ion-badge>	
				  	</ion-label> 
			  		</ion-col>
			  	</ion-row>
			  	<ion-row>
			  		<ion-col>
				  		<p>{{item.NME_ESCOLA}}</p>
			  		</ion-col>
			  	</ion-row>
			  	<ion-row>
			  		<ion-col>
				  		<p><b>Etapa</b><br />{{item.DES_ETAPA}}</p>
			  		</ion-col>
			  		<ion-col>
				  		<p><b>Período</b><br />{{item.DES_PERIODO}}</p>
			  		</ion-col>
			  	</ion-row>
			  	<ion-row>
			  		<ion-col>
				  		<p><b>Parecer</b><br />{{item.SIT_PARECER}}</p>
			  		</ion-col>
			  		<ion-col>
				  		<p><b>Situação</b><br />{{item.SIT_PLAULA}}</p>
			  		</ion-col>
			  	</ion-row>
			  	<ion-row>
			  		<ion-col>
			  			<ion-button size="small" color="primary" style='width:100%' [routerLink]="['/app/academico/academico-plano-ensino/'+item.IDF_PLAULA]">Visualizar conteúdo</ion-button>
			  		</ion-col>
			  	</ion-row>
			  </ion-card>
			</ng-container>
		</ion-list>
	</div>
</ion-content>
