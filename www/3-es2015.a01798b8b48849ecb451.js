(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{zTO0:function(o,n,t){"use strict";t.r(n),t.d(n,"AcademicoQuizzNovoPageModule",(function(){return I}));var i=t("ofXK"),e=t("3Pt+"),c=t("HBpY"),a=t("TEn/"),r=t("fB2i"),b=t("tyNb"),l=t("mrSG"),s=t("amDQ"),u=t("S7lw"),d=(t("FUe0"),t("fXoL")),g=t("afdR"),p=t("g8ne"),m=t("h1Pb"),h=t("cI5j");function f(o,n){if(1&o){const o=d.Rb();d.Ob(0),d.Qb(1,"ion-row"),d.Qb(2,"ion-col"),d.Qb(3,"h4",12),d.Qb(4,"b"),d.Cc(5,"Informa\xe7\xf5es sobre o quiz"),d.Pb(),d.Mb(6,"br"),d.Qb(7,"small"),d.Cc(8,"Preencha abaixo as informa\xe7\xf5es e detalhes sobre o quiz:"),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(9,"ion-card"),d.Qb(10,"ion-card-content"),d.Qb(11,"ion-list"),d.Qb(12,"ion-item",13),d.Qb(13,"ion-title"),d.Mb(14,"ion-icon",14),d.Cc(15," Detalhes"),d.Pb(),d.Pb(),d.Qb(16,"ion-item"),d.Qb(17,"ion-label",15),d.Mb(18,"ion-icon",14),d.Cc(19," T\xedtulo do quiz *"),d.Pb(),d.Qb(20,"ion-input",16),d.Yb("ngModelChange",(function(n){return d.sc(o),d.bc().dados.titulo=n})),d.Pb(),d.Pb(),d.Pb(),d.Qb(21,"ion-title"),d.Mb(22,"ion-icon",17),d.Cc(23," Descri\xe7\xe3o do quiz"),d.Pb(),d.Qb(24,"ion-list"),d.Qb(25,"ion-item",18),d.Qb(26,"editor",19),d.Yb("ngModelChange",(function(n){return d.sc(o),d.bc().dados.descricao=n})),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Nb()}if(2&o){const o=d.bc();d.zb(20),d.hc("ngModel",o.dados.titulo)("placeholder","Insira um t\xedtulo"),d.zb(6),d.hc("ngModel",o.dados.descricao)("init",o.editorOptions)}}function P(o,n){if(1&o&&(d.Qb(0,"ion-select-option",30),d.Cc(1),d.Pb()),2&o){const o=n.$implicit;d.hc("value",o.ordem),d.zb(1),d.Ec("Op\xe7\xe3o ",o.ordem,"")}}function M(o,n){if(1&o){const o=d.Rb();d.Qb(0,"ion-item"),d.Qb(1,"ion-label",15),d.Mb(2,"ion-icon",14),d.Cc(3),d.Pb(),d.Qb(4,"ion-select",31),d.Yb("ngModelChange",(function(n){return d.sc(o),d.bc(2).$implicit.opcao_correta=n})),d.Ac(5,P,2,2,"ion-select-option",32),d.Pb(),d.Pb()}if(2&o){const o=d.bc(2).$implicit;d.zb(3),d.Ec(" ",1==o.tipo_pergunta?"Op\xe7\xe3o correta":"Op\xe7\xf5es corretas"," * "),d.zb(1),d.hc("interface","popover")("multiple",2==o.tipo_pergunta)("cancelText","Cancelar")("ngModel",o.opcao_correta),d.zb(1),d.hc("ngForOf",o.opcoes)}}function C(o,n){if(1&o){const o=d.Rb();d.Qb(0,"ion-item"),d.Qb(1,"ion-label",15),d.Cc(2),d.Pb(),d.Qb(3,"ion-input",35),d.Yb("ngModelChange",(function(n){return d.sc(o),d.bc().$implicit.valor=n})),d.Pb(),d.Qb(4,"ion-button",36),d.Yb("click",(function(){d.sc(o);const n=d.bc().$implicit,t=d.bc(3).$implicit;return d.bc(2).delOpcao(t,n)})),d.Mb(5,"ion-icon",37),d.Pb(),d.Pb()}if(2&o){const o=d.bc().$implicit;d.zb(2),d.Ec("Op\xe7\xe3o ",o.ordem,""),d.zb(1),d.jc("name","titulo-opc",o.id,""),d.hc("ngModel",o.valor)("placeholder","Insira um valor")}}function O(o,n){if(1&o&&(d.Ob(0),d.Ac(1,C,6,4,"ion-item",25),d.Nb()),2&o){const o=n.$implicit;d.zb(1),d.hc("ngIf","EXCLUIDO"!=o.status)}}function v(o,n){if(1&o){const o=d.Rb();d.Ob(0),d.Qb(1,"ion-list"),d.Qb(2,"ion-item",13),d.Qb(3,"ion-title"),d.Mb(4,"ion-icon",14),d.Cc(5," Op\xe7\xf5es "),d.Pb(),d.Qb(6,"ion-button",33),d.Yb("click",(function(){d.sc(o);const n=d.bc(2).$implicit;return d.bc(2).addOpcao(n)})),d.Mb(7,"ion-icon",34),d.Cc(8," Nova op\xe7\xe3o "),d.Pb(),d.Pb(),d.Ac(9,O,2,1,"ng-container",24),d.Pb(),d.Nb()}if(2&o){const o=d.bc(2).$implicit;d.zb(9),d.hc("ngForOf",o.opcoes)}}function Q(o,n){if(1&o){const o=d.Rb();d.Qb(0,"ion-item"),d.Qb(1,"ion-label",15),d.Cc(2),d.Pb(),d.Qb(3,"ion-input",35),d.Yb("ngModelChange",(function(n){return d.sc(o),d.bc().$implicit.valor=n})),d.Pb(),d.Qb(4,"ion-button",36),d.Yb("click",(function(){d.sc(o);const n=d.bc().$implicit,t=d.bc(3).$implicit;return d.bc(2).delOpcao(t,n)})),d.Mb(5,"ion-icon",37),d.Pb(),d.Pb()}if(2&o){const o=d.bc(),n=o.index,t=o.$implicit;d.zb(2),d.Ec("Op\xe7\xe3o ",n+1,""),d.zb(1),d.jc("name","titulo-opc",t.id,""),d.hc("ngModel",t.valor)("placeholder","Insira um valor")}}function _(o,n){if(1&o&&(d.Ob(0),d.Ac(1,Q,6,4,"ion-item",25),d.Nb()),2&o){const o=n.$implicit;d.zb(1),d.hc("ngIf","EXCLUIDO"!=o.status)}}function z(o,n){if(1&o){const o=d.Rb();d.Ob(0),d.Qb(1,"ion-list"),d.Qb(2,"ion-item",13),d.Qb(3,"ion-title"),d.Mb(4,"ion-icon",14),d.Cc(5," Op\xe7\xf5es "),d.Pb(),d.Qb(6,"ion-button",33),d.Yb("click",(function(){d.sc(o);const n=d.bc(2).$implicit;return d.bc(2).addOpcao(n)})),d.Mb(7,"ion-icon",34),d.Cc(8," Nova op\xe7\xe3o "),d.Pb(),d.Pb(),d.Ac(9,_,2,1,"ng-container",24),d.Pb(),d.Nb()}if(2&o){const o=d.bc(2).$implicit;d.zb(9),d.hc("ngForOf",o.opcoes)}}function k(o,n){if(1&o){const o=d.Rb();d.Qb(0,"ion-slide"),d.Qb(1,"ion-card"),d.Qb(2,"ion-card-content"),d.Qb(3,"ion-list"),d.Qb(4,"ion-item",13),d.Qb(5,"ion-title"),d.Mb(6,"ion-icon",14),d.Cc(7),d.Pb(),d.Qb(8,"ion-button",26),d.Yb("click",(function(){d.sc(o);const n=d.bc().$implicit;return d.bc(2).delPergunta(n)})),d.Mb(9,"ion-icon",27),d.Cc(10," Excluir "),d.Pb(),d.Pb(),d.Qb(11,"ion-item"),d.Qb(12,"ion-label",15),d.Mb(13,"ion-icon",14),d.Cc(14," T\xedtulo da pergunta *"),d.Pb(),d.Qb(15,"ion-input",28),d.Yb("ngModelChange",(function(n){return d.sc(o),d.bc().$implicit.titulo=n})),d.Pb(),d.Pb(),d.Pb(),d.Qb(16,"ion-title"),d.Mb(17,"ion-icon",17),d.Cc(18," Descri\xe7\xe3o"),d.Pb(),d.Qb(19,"ion-list"),d.Qb(20,"ion-item",18),d.Qb(21,"editor",19),d.Yb("ngModelChange",(function(n){return d.sc(o),d.bc().$implicit.descricao=n})),d.Pb(),d.Pb(),d.Pb(),d.Ob(22),d.Qb(23,"ion-item"),d.Qb(24,"ion-label",15),d.Mb(25,"ion-icon",14),d.Cc(26," Tipo de pergunta * "),d.Pb(),d.Qb(27,"ion-select",29),d.Yb("ionChange",(function(){d.sc(o);const n=d.bc().$implicit;return d.bc(2).montarOpcoes(n)}))("ngModelChange",(function(n){return d.sc(o),d.bc().$implicit.tipo_pergunta=n})),d.Qb(28,"ion-select-option",30),d.Cc(29,"Op\xe7\xe3o \xfanica"),d.Pb(),d.Qb(30,"ion-select-option",30),d.Cc(31,"M\xfaltipla escolha"),d.Pb(),d.Pb(),d.Pb(),d.Ac(32,M,6,6,"ion-item",25),d.Nb(),d.Ac(33,v,10,1,"ng-container",25),d.Ac(34,z,10,1,"ng-container",25),d.Pb(),d.Pb(),d.Pb()}if(2&o){const o=d.bc(),n=o.index,t=o.$implicit,i=d.bc(2);d.zb(7),d.Ec(" Pergunta ",n+1," "),d.zb(8),d.hc("ngModel",t.titulo)("placeholder","Insira um t\xedtulo"),d.zb(6),d.hc("ngModel",t.descricao)("init",i.editorOptions),d.zb(6),d.hc("interface","popover")("cancelText","Cancelar")("ngModel",t.tipo_pergunta),d.zb(1),d.hc("value",1),d.zb(2),d.hc("value",2),d.zb(2),d.hc("ngIf",1==t.tipo_pergunta||2==t.tipo_pergunta),d.zb(1),d.hc("ngIf",1==t.tipo_pergunta),d.zb(1),d.hc("ngIf",2==t.tipo_pergunta)}}function x(o,n){if(1&o&&(d.Ob(0),d.Ac(1,k,35,13,"ion-slide",25),d.Nb()),2&o){const o=n.$implicit,t=d.bc(2);d.zb(1),d.hc("ngIf",!t.carregando&&"EXCLUIDO"!=o.status)}}const w=function(){return{initialSlide:0,speed:400}};function N(o,n){if(1&o){const o=d.Rb();d.Ob(0),d.Qb(1,"ion-row"),d.Qb(2,"ion-col"),d.Qb(3,"ion-item",13),d.Qb(4,"h4",12),d.Qb(5,"b"),d.Cc(6,"Perguntas do quiz"),d.Pb(),d.Mb(7,"br"),d.Qb(8,"small"),d.Cc(9,"Adicione perguntas e arraste-as para os lados ou clique na pagina\xe7\xe3o para navegar entre os itens:"),d.Pb(),d.Pb(),d.Qb(10,"ion-button",20),d.Yb("click",(function(){d.sc(o);const n=d.rc(14);return d.bc().addPergunta(n)})),d.Mb(11,"ion-icon",21),d.Cc(12," Nova pergunta "),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(13,"ion-slides",22,23),d.Ac(15,x,2,1,"ng-container",24),d.Pb(),d.Nb()}if(2&o){const o=d.bc();d.zb(13),d.hc("options",d.lc(2,w)),d.zb(2),d.hc("ngForOf",o.dados.perguntas)}}const $=[{path:"",component:(()=>{class o{constructor(o,n,t,i,e,c,a,r){this.cub3Svc=o,this.platform=n,this.location=t,this.cdr=i,this.cub3Db=e,this.selector=c,this.route=a,this.router=r,this.dados=new u.d,this.carregando=!1,this.usuario=s.a.getAccount(),this.abaAtiva="informacoes",this.editorOptions={anchor_bottom:!1,anchor_top:!1,autoresize_bottom_margin:10,autoresize_min_height:40,branding:!1,language:"en",inline:!0,fixed_toolbar_container:".tiny-mce-toolbar",menubar:!1,statusbar:!1,default_link_target:"_blank",link_assume_external_targets:!0,placeholder:"Digite a descri\xe7\xe3o...",target_list:!1,link_title:!1,theme:"silver",mobile:{theme:"mobile",plugins:["autosave","lists","autolink"]},base_url:"/assets/tinymce",plugins:"autoresize link lists",toolbar:"undo redo | bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | bullist numlist indent outdent | link unlink"}}ngOnInit(){this.route.url.subscribe(()=>{this.route.snapshot.params.id&&"undefined"!=this.route.snapshot.params.id&&(this.dados.id=this.route.snapshot.params.id,this.init())})}init(){return Object(l.a)(this,void 0,void 0,(function*(){this.usuario=s.a.getAccount();const o=yield this.cub3Svc.carregar(1);this.carregando=!0,this.cub3Svc.getNode("quiz/visualizar?id="+this.dados.id).then(n=>{o.dismiss(),n&&n.dados&&(this.dados=new u.d(n.dados)),setTimeout(()=>{this.cdr.detectChanges(),this.carregando=!1},300)},()=>{o.dismiss(),this.carregando=!1,this.location.back(),this.cub3Svc.alerta("Ops!","Quiz inv\xe1lido.")})}))}addPergunta(o){this.dados.perguntas.push(new u.e({titulo:"",descricao:"",opcoes:[]})),setTimeout(()=>{o.slideTo(this.dados.perguntas.length+1)},300)}delPergunta(o){o.id?this.dados.perguntas[this.dados.perguntas.indexOf(o)].status="EXCLUIDO":this.dados.perguntas.splice(this.dados.perguntas.indexOf(o),1)}delOpcao(o,n){n.id?o.opcoes[o.opcoes.indexOf(n)].status="EXCLUIDO":o.opcoes.splice(o.opcoes.indexOf(n),1)}salvarQuiz(){let o=[{id:"titulo",label:"T\xedtulo"},{id:"descricao",label:"Descri\xe7\xe3o"}],n=[];for(let t of o)this.dados[t.id]&&""!=this.dados[t.id]||n.push(t.label);if(n.length>0){let o=n.join(", ");this.cub3Svc.alerta("Ops!","Campo(s) obrigat\xf3rio(s): <b>"+o+"</b>")}else this.dados.id?this.cub3Svc.postNode("quiz/atualizar",this.dados).then(o=>{o&&o.result?(this.cub3Svc.alertaToast("Novo quiz","Quiz atualizado com sucesso!","success"),this.router.navigateByUrl("/app/academico/academico-quizz",{replaceUrl:!0})):this.cub3Svc.alerta("Ops!","N\xe3o foi poss\xedvel criar o quiz. Por favor, tente novamente ou entre em contato com o suporte t\xe9cnico.")},o=>{this.cub3Svc.alerta("Ops!","N\xe3o foi poss\xedvel criar o quiz. Por favor, tente novamente ou entre em contato com o suporte t\xe9cnico.")}):this.cub3Svc.postNode("quiz/novo",this.dados).then(o=>{o&&o.result?(this.cub3Svc.alertaToast("Novo quiz","Quiz criado com sucesso!","success"),this.router.navigateByUrl("/app/academico/academico-quizz",{replaceUrl:!0})):this.cub3Svc.alerta("Ops!","N\xe3o foi poss\xedvel criar o quiz. Por favor, tente novamente ou entre em contato com o suporte t\xe9cnico.")},o=>{this.cub3Svc.alerta("Ops!","N\xe3o foi poss\xedvel criar o quiz. Por favor, tente novamente ou entre em contato com o suporte t\xe9cnico.")})}montarOpcoes(o){o.opcoes=[];for(let n=0;n<4;n++)this.addOpcao(o)}addOpcao(o){o.opcoes.push({id:null,ordem:o.opcoes.length+1,valor:"",titulo:"",correta:!1})}}return o.\u0275fac=function(n){return new(n||o)(d.Lb(g.a),d.Lb(a.Ib),d.Lb(i.n),d.Lb(d.h),d.Lb(p.a),d.Lb(m.a),d.Lb(b.a),d.Lb(b.g))},o.\u0275cmp=d.Fb({type:o,selectors:[["app-academico-quizz-novo"]],decls:19,vars:8,consts:[[3,"titulo","voltar","icone","exibirAvatar"],["id","container"],["value","informacoes","scrollable","true",3,"ngModel","ngModelChange"],["value","informacoes"],["name","information-outline"],["value","perguntas"],["name","checkbox-outline"],[3,"ngSwitch"],[4,"ngSwitchCase"],["vertical","bottom","horizontal","end","slot","fixed"],["color","success",3,"click"],["name","checkmark-outline"],[1,"header4"],["lines","none"],["name","book-outline"],["position","floating"],["name","titulo",3,"ngModel","placeholder","ngModelChange"],["name","pencil-outline"],[1,"box-conteudo"],["no-blur","",3,"ngModel","init","ngModelChange"],["size","default","color","warning","slot","end",3,"click"],["name","add-circle-outline"],["pager","true",3,"options"],["sliderQuiz",""],[4,"ngFor","ngForOf"],[4,"ngIf"],["size","default","color","danger","fill","outline","slot","end",3,"click"],["name","trash-bin-outline","color","danger"],["name","titulo-pergunta",3,"ngModel","placeholder","ngModelChange"],["placeholder","Selecione um tipo de pergunta","name","tipo_pergunta",3,"interface","cancelText","ngModel","ionChange","ngModelChange"],[3,"value"],["placeholder","Selecione...","name","opcao_correta",3,"interface","multiple","cancelText","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["size","default","color","success","fill","outline","slot","end",3,"click"],["name","add-outline","color","success"],[3,"name","ngModel","placeholder","ngModelChange"],["size","small","color","danger","fill","outline","slot","end",3,"click"],["slot","icon-only","name","trash-bin-outline","color","danger",2,"margin","0","font-size","1em"]],template:function(o,n){1&o&&(d.Mb(0,"cub3-header",0),d.Qb(1,"ion-content"),d.Qb(2,"div",1),d.Qb(3,"ion-segment",2),d.Yb("ngModelChange",(function(o){return n.abaAtiva=o})),d.Qb(4,"ion-segment-button",3),d.Qb(5,"ion-label"),d.Mb(6,"ion-icon",4),d.Cc(7," Informa\xe7\xf5es"),d.Pb(),d.Pb(),d.Qb(8,"ion-segment-button",5),d.Qb(9,"ion-label"),d.Mb(10,"ion-icon",6),d.Cc(11," Perguntas"),d.Pb(),d.Pb(),d.Pb(),d.Mb(12,"br"),d.Ob(13,7),d.Ac(14,f,27,4,"ng-container",8),d.Ac(15,N,16,3,"ng-container",8),d.Nb(),d.Pb(),d.Qb(16,"ion-fab",9),d.Qb(17,"ion-fab-button",10),d.Yb("click",(function(){return n.salvarQuiz()})),d.Mb(18,"ion-icon",11),d.Pb(),d.Pb(),d.Pb()),2&o&&(d.hc("titulo","Gerenciamento de<br /> <b>Quizzes</b>")("voltar",!0)("icone","document-outline")("exibirAvatar",!1),d.zb(3),d.hc("ngModel",n.abaAtiva),d.zb(10),d.hc("ngSwitch",n.abaAtiva),d.zb(1),d.hc("ngSwitchCase","informacoes"),d.zb(1),d.hc("ngSwitchCase","perguntas"))},directives:[h.a,a.u,a.ib,a.Lb,e.j,e.m,a.jb,a.N,a.C,i.x,i.y,a.w,a.x,a.gb,a.t,a.m,a.n,a.O,a.H,a.xb,a.G,a.Mb,r.a,a.k,a.ob,i.s,i.t,a.nb,a.kb,a.lb],styles:["ion-footer[_ngcontent-%COMP%]:before{display:none;visibility:hidden}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:transparent}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .toolbar-container[_ngcontent-%COMP%]{--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%;height:56px;position:relative;display:block;margin:0;border-radius:0;font-weight:700}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button.azul[_ngcontent-%COMP%]{--ion-color-base:#fff!important;--ion-color-contrast:var(--ion-color-azul)!important}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button.rosa[_ngcontent-%COMP%]{--ion-color-base:#fff!important;--ion-color-contrast:var(--ion-color-rosa)!important}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button.verde[_ngcontent-%COMP%]{--ion-color-base:#fff!important;--ion-color-contrast:var(--ion-color-verde)!important}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button.amarelo[_ngcontent-%COMP%]{--ion-color-base:#000!important;--ion-color-contrast:var(--ion-color-amarelo)!important}ion-card[_ngcontent-%COMP%]   .item-input[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%]   .item-select[_ngcontent-%COMP%]{--background:#fff!important}ion-card[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:0}ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{--background:#fafafa}.btnVoltar[_ngcontent-%COMP%]{position:absolute;top:0;right:5px;font-size:.7em}.listOpcoes[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{width:100%}ion-card[_ngcontent-%COMP%]{background:#fafafa;padding:10px;border-left:4px solid var(--ion-color-primary)}ion-card[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{float:right}ion-card[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{width:100%}.ativado[_ngcontent-%COMP%]{background:hsla(0,0%,81.6%,.4)!important}ion-label[_ngcontent-%COMP%]{font-weight:700}ion-label[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-item[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{width:100%}#box-upload[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}#box-upload[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;font-size:1.4em;color:var(--ion-color-primary)}#box-upload[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#000;font-size:1em}"]}),o})()}];let y=(()=>{class o{}return o.\u0275mod=d.Jb({type:o}),o.\u0275inj=d.Ib({factory:function(n){return new(n||o)},imports:[[b.k.forChild($)],b.k]}),o})(),I=(()=>{class o{}return o.\u0275mod=d.Jb({type:o}),o.\u0275inj=d.Ib({factory:function(n){return new(n||o)},imports:[[i.c,c.a,r.b,e.e,a.Bb,y]]}),o})()}}]);