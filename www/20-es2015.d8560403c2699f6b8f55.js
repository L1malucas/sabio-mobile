(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"3x8H":function(n,t,o){"use strict";o.r(t),o.d(t,"AcademicoAvaliacaoVisualizarPageModule",(function(){return y}));var i=o("ofXK"),a=o("3Pt+"),e=o("TEn/"),c=o("tyNb"),s=o("mrSG"),r=o("amDQ"),l=o("fXoL"),b=o("g8ne"),d=o("afdR"),g=o("h1Pb"),u=o("cI5j"),m=o("QUrN");const h=function(n){return{odd:n}};function P(n,t){if(1&n){const n=l.Rb();l.Qb(0,"ion-item",16),l.Qb(1,"ion-row"),l.Qb(2,"ion-col",17),l.Qb(3,"ion-avatar"),l.Qb(4,"ion-badge",18),l.Cc(5),l.Pb(),l.Mb(6,"img",19),l.Pb(),l.Pb(),l.Qb(7,"ion-col",20),l.Qb(8,"p",21),l.Qb(9,"b",22),l.Cc(10),l.Pb(),l.Qb(11,"small"),l.Qb(12,"b"),l.Cc(13,"Data de nascimento:"),l.Pb(),l.Cc(14),l.cc(15,"amDateFormat"),l.Pb(),l.Mb(16,"br"),l.Qb(17,"small"),l.Qb(18,"b"),l.Cc(19,"Sexo:"),l.Pb(),l.Cc(20),l.Pb(),l.Pb(),l.Pb(),l.Qb(21,"ion-col",23),l.Qb(22,"ion-input",24),l.Yb("ngModelChange",(function(t){return l.sc(n),l.bc().$implicit.nota=t})),l.Pb(),l.Pb(),l.Pb(),l.Pb()}if(2&n){const n=l.bc(),t=n.index,o=n.$implicit,i=l.bc(3);l.hc("ngClass",l.mc(11,h,t%2==0)),l.zb(5),l.Dc(o.id),l.zb(1),l.jc("src","assets/img/avatar-",2==o.sexo?"menina":"menino",".jpg",l.uc),l.zb(4),l.Dc(i.cub3Svc.normalizeString(o.nome)),l.zb(4),l.Ec(" ",l.ec(15,8,o.dataNascimento,"DD/MM/YYYY"),""),l.zb(6),l.Ec(" ",1==o.sexo?"Masculino":"Feminino",""),l.zb(2),l.hc("ngModel",o.nota)("placeholder","Insira um valor")}}function p(n,t){if(1&n&&(l.Ob(0),l.Ac(1,P,23,13,"ion-item",15),l.Nb()),2&n){const n=t.$implicit;l.zb(1),l.hc("ngIf",n)}}function C(n,t){if(1&n&&(l.Ob(0),l.Qb(1,"ion-list",13),l.Ac(2,p,2,1,"ng-container",14),l.Pb(),l.Nb()),2&n){const n=l.bc(2);l.zb(2),l.hc("ngForOf",n.dados.alunos)}}function M(n,t){1&n&&l.Mb(0,"ion-spinner",25)}function f(n,t){if(1&n&&(l.Qb(0,"ion-card"),l.Qb(1,"ion-card-header"),l.Mb(2,"ion-icon",5),l.Cc(3," Alunos da turma "),l.Pb(),l.Qb(4,"ion-card-content"),l.Qb(5,"ion-list",6),l.Qb(6,"ion-item",7),l.Qb(7,"ion-row",8),l.Qb(8,"ion-col",9),l.Qb(9,"h6"),l.Qb(10,"b"),l.Cc(11,"Aluno"),l.Pb(),l.Pb(),l.Pb(),l.Qb(12,"ion-col",10),l.Qb(13,"h6",11),l.Qb(14,"b"),l.Cc(15,"Nota/conceito"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Ac(16,C,3,1,"ng-container",4),l.Ac(17,M,1,0,"ion-spinner",12),l.Pb(),l.Pb(),l.Pb()),2&n){const n=l.bc();l.zb(16),l.hc("ngIf",null!=n.dados&&!n.carregando),l.zb(1),l.hc("ngIf",null!=n.carregando&&1==n.carregando)}}function O(n,t){if(1&n){const n=l.Rb();l.Qb(0,"ion-slide"),l.Qb(1,"ion-avatar"),l.Mb(2,"img",19),l.Pb(),l.Qb(3,"h2"),l.Qb(4,"b"),l.Cc(5),l.Pb(),l.Mb(6,"br"),l.Cc(7),l.Pb(),l.Qb(8,"ion-row"),l.Qb(9,"ion-col"),l.Qb(10,"ion-list",26),l.Qb(11,"ion-title",27),l.Mb(12,"ion-icon",28),l.Cc(13," Nota/conceito"),l.Pb(),l.Qb(14,"ion-item",29),l.Qb(15,"ion-input",30),l.Yb("ngModelChange",(function(o){return l.sc(n),t.$implicit.nota=o})),l.Pb(),l.Pb(),l.Qb(16,"ion-button",31),l.Yb("click",(function(){l.sc(n);const o=t.index;return l.bc(2).avancar(o)})),l.Qb(17,"span",32),l.Cc(18,"Avan\xe7ar"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb()}if(2&n){const n=t.$implicit,o=l.bc(2);l.zb(2),l.jc("src","assets/img/avatar-",2==n.sexo?"menina":"menino",".jpg",l.uc),l.zb(3),l.Dc(n.id),l.zb(2),l.Ec(" ",o.cub3Svc.normalizeString(n.nome),""),l.zb(8),l.hc("ngModel",n.nota)("placeholder","Insira um valor"),l.zb(1),l.ic("fill",n.nota?"outline":"solid")}}function _(n,t){if(1&n&&(l.Qb(0,"ion-slides"),l.Ac(1,O,19,6,"ion-slide",14),l.Pb()),2&n){const n=l.bc();l.zb(1),l.hc("ngForOf",n.dados.alunos)}}function v(n,t){if(1&n&&(l.Qb(0,"ion-col"),l.Qb(1,"b",35),l.Cc(2),l.Pb(),l.Cc(3," alunos na turma "),l.Pb()),2&n){const n=l.bc(2);l.zb(2),l.Dc(n.dados.alunos.length)}}function A(n,t){if(1&n){const n=l.Rb();l.Qb(0,"ion-button",36),l.Yb("click",(function(){return l.sc(n),l.bc(2).finalizarChamada()})),l.Cc(1,"Finalizar lan\xe7amento"),l.Pb()}}function x(n,t){if(1&n){const n=l.Rb();l.Qb(0,"ion-footer"),l.Qb(1,"ion-row"),l.Ac(2,v,4,1,"ion-col",4),l.Qb(3,"ion-col"),l.Ac(4,A,2,0,"ion-button",33),l.Qb(5,"ion-button",34),l.Yb("click",(function(){return l.sc(n),l.bc().revisarChamada()})),l.Cc(6,"Revisar lan\xe7amento"),l.Pb(),l.Pb(),l.Pb(),l.Pb()}if(2&n){const n=l.bc();l.zb(2),l.hc("ngIf","Slides"==n.modoExibicao),l.zb(2),l.hc("ngIf","Lista"==n.modoExibicao)}}const Q=[{path:"",component:(()=>{class n{constructor(n,t,o,i,a,e){this.cub3Db=n,this.cub3Svc=t,this.selector=o,this.location=i,this.route=a,this.router=e,this.turma={aulas:[],IDF_TURMA:null},this.dados={},this.turmaAtiva={},this.data={MOB_REGISTRO_AVALIACAO:[]},this.carregando=!0,this.jsonData={notas1:[],notas2:[],faltas:[]},this.modoExibicao="Slides"}ngOnInit(){this.route.url.subscribe(()=>{this.route.snapshot.params.id&&"undefined"!=this.route.snapshot.params.id?(this.turma.IDF_TURMA=this.route.snapshot.params.id,this.turma.idAvaliacao=this.route.snapshot.params.idAula,this.init()):this.location.back()})}abrirNotaModal(n){try{this.selector.show({title:"Qual a nota da avalia\xe7\xe3o?",items:[this.jsonData.notas1,this.jsonData.notas2],positiveButtonText:"Selecionar",negativeButtonText:"Cancelar"}).then(t=>{console.log(t[0].val+" at index: "+t[0].index),n.nota=t[0].description+""+t[1].description},n=>console.log("Error: ",n))}catch(t){console.log(t.message)}}atualizarAulas(){}init(){return Object(s.a)(this,void 0,void 0,(function*(){this.data=r.a.getItem("data"),this.carregando=!0;let n=yield this.cub3Svc.getTurmas();const t=r.a.getItem("data");let o=[];t&&t.MOB_REGISTRO_AVALIACAO&&(o=t.MOB_REGISTRO_AVALIACAO||[]),this.turmaAtiva=n.find(n=>n.id==this.turma.IDF_TURMA),this.aula=o.find(n=>n.id==this.turma.idAvaliacao),console.log("Avalia\xe7\xe3o",this.aula),console.log(this.turma.aulas),this.carregando=!1,this.getAlunos()}))}getAlunos(){return Object(s.a)(this,void 0,void 0,(function*(){console.log("Obtendo alunos",this.turma),this.carregando=!0;const n=this.data.MOV_REGISTRO_AVALIACAO||[];this.dados.alunos=this.turmaAtiva.alunos.map(t=>{const o=n.find(n=>n.idAluno===t.id&&n.idAvaliacao===this.turma.idAvaliacao);return t.nota=o?o.nota:void 0,t}),console.log(this.dados.alunos),this.carregando=!1}))}revisarChamada(){this.modoExibicao="Slides"==this.modoExibicao?"Lista":"Slides"}setFreq(n,t,o){this.dados.alunos[o].SIT_ALUNO=t,o<this.dados.alunos.length-1?this.slides.slideTo(o+1,500):this.revisarChamada()}avancar(n){n<this.dados.alunos.length-1?this.slides.slideTo(n+1,500):this.revisarChamada()}finalizarChamada(){return Object(s.a)(this,void 0,void 0,(function*(){let n=yield this.cub3Svc.carregar(1),t=[];for(var o=0;o<this.dados.alunos.length;o++)if(this.dados.alunos[o]&&null!=this.dados.alunos[o].nota&&null!=this.dados.alunos[o].nota){let n={id:Math.floor(1e3*Math.random())+1,idAvaliacao:this.turma.idAvaliacao,idAluno:this.dados.alunos[o].id,nota:this.dados.alunos[o].nota};t.push(n)}let i=0;for(o=0;o<t.length;o++)this.cub3Db.add("MOV_REGISTRO_AVALIACAO",t[o]),i++;i==t.length&&(n.dismiss(),this.cub3Svc.alerta("Registro de lan\xe7amento","Registro inserido com sucesso!"),this.location.back())}))}}return n.\u0275fac=function(t){return new(t||n)(l.Lb(b.a),l.Lb(d.a),l.Lb(g.a),l.Lb(i.n),l.Lb(c.a),l.Lb(c.g))},n.\u0275cmp=l.Fb({type:n,selectors:[["app-academico-avaliacao-visualizar"]],viewQuery:function(n,t){var o;1&n&&l.Gc(e.ob,!0),2&n&&l.qc(o=l.Zb())&&(t.slides=o.first)},decls:12,vars:11,consts:[[3,"titulo","voltar","icone","exibirAvatar"],[2,"padding","0 20px"],[1,"header4",2,"margin","0","padding","0","font-weight","bold"],[3,"innerHTML"],[4,"ngIf"],["name","ios-people-outline","item-start",""],[1,"alunos-lista"],["lines","none",2,"height","50px"],[1,"table-header"],["size","8"],["size","4"],[2,"width","100%","text-align","center"],["name","crescent","class","carregando","color","primary",4,"ngIf"],[1,"alunos-lista","listOpcoes"],[4,"ngFor","ngForOf"],["lines","none",3,"ngClass",4,"ngIf"],["lines","none",3,"ngClass"],["size","2"],["color","secondary",2,"float","right","font-size",".8em","position","absolute","right","0","bottom","2"],[3,"src"],["size","6"],[1,"turmaDias",2,"position","relative"],[2,"color","black","white-space","nowrap","text-overflow","ellipsis","overflow","hidden","max-width","100%","display","block"],["size","4",1,"flex"],["name","titulo",2,"background","#ffffff","padding","5px","text-align","center",3,"ngModel","placeholder","ngModelChange"],["name","crescent","color","primary",1,"carregando"],[2,"width","100%","padding","20px"],["color","primary"],["name","book-outline"],[1,"box-conteudo"],["name","titulo",3,"ngModel","placeholder","ngModelChange"],["ion-button","","color","primary",1,"btnFrequencia","btnPresente",2,"margin","auto","width","100%","margin-top","10px",3,"fill","click"],[2,"font-size",".8em !important"],["color","primary","style","float:right;",3,"click",4,"ngIf"],["color","danger",2,"float","right",3,"click"],["color","secondary"],["color","primary",2,"float","right",3,"click"]],template:function(n,t){1&n&&(l.Mb(0,"cub3-header",0),l.Qb(1,"ion-content"),l.Qb(2,"ion-row",1),l.Qb(3,"ion-col"),l.Qb(4,"h4",2),l.Cc(5),l.Pb(),l.Mb(6,"span",3),l.Mb(7,"br"),l.Mb(8,"span",3),l.Pb(),l.Pb(),l.Ac(9,f,18,2,"ion-card",4),l.Ac(10,_,2,1,"ion-slides",4),l.Pb(),l.Ac(11,x,7,2,"ion-footer",4)),2&n&&(l.hc("titulo","Registro de <br /> <b>nota</b>")("voltar",!0)("icone","bookmarks-outline")("exibirAvatar",!1),l.zb(5),l.Fc("",t.turmaAtiva.titulo," - ",t.turmaAtiva.turno.descricao,""),l.zb(1),l.hc("innerHTML",t.cub3Svc.normalizeString(t.turmaAtiva.nomeEscola),l.tc),l.zb(2),l.hc("innerHTML",t.cub3Svc.normalizeString(t.aula.titulo),l.tc),l.zb(1),l.hc("ngIf",!t.carregando&&null!=t.dados.alunos&&t.dados.alunos.length>0&&"Lista"==t.modoExibicao),l.zb(1),l.hc("ngIf",!t.carregando&&null!=t.dados.alunos&&t.dados.alunos.length>0&&"Slides"==t.modoExibicao),l.zb(1),l.hc("ngIf",null!=t.dados&&null!=t.dados.alunos))},directives:[u.a,e.u,e.gb,e.t,i.t,e.m,e.o,e.C,e.n,e.O,e.H,i.s,i.q,e.f,e.j,e.G,e.Mb,a.j,a.m,e.pb,e.ob,e.nb,e.xb,e.k,e.z],pipes:[m.c],styles:[".carregando[_ngcontent-%COMP%]{margin:40px auto}.alunos-lista[_ngcontent-%COMP%], ion-card-content[_ngcontent-%COMP%]{padding:0;margin:0}ion-card[_ngcontent-%COMP%]{width:100%!important;margin:0!important}ion-card[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:0!important}.table-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:12px!important}.alunos-lista[_ngcontent-%COMP%]{margin:0!important;width:100%!important}.alunos-lista[_ngcontent-%COMP%]   .btnFrequencia[_ngcontent-%COMP%]{max-width:100%;--padding-start:10px!important;--padding-end:10px!important;margin:auto;display:block;position:relative}.alunos-lista[_ngcontent-%COMP%]   .item.odd[_ngcontent-%COMP%]{background:#eee}.alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{height:80px;line-height:50px;vertical-align:middle;justify-content:center;border-bottom:1px solid #ccc}.alunos-lista[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:active{background:var(--ion-color-primary)}.alunos-lista[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:active   .label[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:active   h2[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:active   ion-icon[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:active   p[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:active   span[_ngcontent-%COMP%]{color:#fff!important}.alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{border:2px solid var(--ion-color-secondary);background:#ddd;text-align:center;font-weight:700;opacity:1!important;width:100%;margin:0}.alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .aluno[_ngcontent-%COMP%], .alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden}.alunos-lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .aluno[_ngcontent-%COMP%]{font-size:1rem;max-width:100%;display:block}.text-center[_ngcontent-%COMP%]{text-align:center!important;justify-content:center}.btnFrequencia[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-right:10px;font-size:3rem}.btnFrequencia.ion-color-primary[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.btnFrequencia.ion-color-primary.button-solid[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff}.btnAusente[_ngcontent-%COMP%]{float:right}.btnAusente.ion-color-danger[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-danger)}.btnAusente.ion-color-danger.button-solid[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff}.btnPresente[_ngcontent-%COMP%]{float:left}ion-content[_ngcontent-%COMP%]{height:calc(100vh - 50px)}ion-footer[_ngcontent-%COMP%]{background:#eee;border-top:2px solid #ddd}ion-footer[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0;display:flex;justify-content:center;align-items:center}ion-footer[_ngcontent-%COMP%]   .btn-finalizar[_ngcontent-%COMP%]{font-size:1.2rem;top:-14px}.avatar[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;margin:0;-o-object-fit:cover;object-fit:cover;-o-object-position:center right;object-position:center right}ion-slides[_ngcontent-%COMP%]{margin:20px;background:#fafafa;padding:0;border-radius:20px}ion-slides[_ngcontent-%COMP%], ion-slides[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]{align-items:center;justify-content:center}ion-slides[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]{width:100%;padding:20px;display:flex;flex-direction:column}"]}),n})()}];let z=(()=>{class n{}return n.\u0275mod=l.Jb({type:n}),n.\u0275inj=l.Ib({factory:function(t){return new(t||n)},imports:[[c.k.forChild(Q)],c.k]}),n})();var w=o("HBpY");let y=(()=>{class n{}return n.\u0275mod=l.Jb({type:n}),n.\u0275inj=l.Ib({factory:function(t){return new(t||n)},imports:[[i.c,a.e,m.l,w.a,e.Bb,z]]}),n})()}}]);