(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{VT48:function(t,i,n){"use strict";n.r(i),n.d(i,"AcademicoTurmaPageModule",(function(){return ot}));var a,e=n("ofXK"),o=n("3Pt+"),c=n("TEn/"),r=n("tyNb"),s=n("mrSG"),l=n("amDQ"),b=n("FUe0");!function(t){t.Default="DEFAULT",t.Destructive="DESTRUCTIVE",t.Cancel="CANCEL"}(a||(a={}));const d=Object(b.e)("ActionSheet",{web:()=>n.e(65).then(n.bind(null,"CsA7")).then(t=>new t.ActionSheetWeb)});var u=n("wd/R"),A=n("fXoL"),h=n("afdR"),g=n("g8ne"),f=n("cI5j"),I=n("QUrN");function m(t,i){if(1&t){const t=A.Rb();A.Qb(0,"div",25),A.Qb(1,"ion-item",26),A.Qb(2,"ion-row",27),A.Yb("click",(function(){A.sc(t);const n=i.$implicit;return A.bc(3).selecionarAvaliacao(n)})),A.Qb(3,"ion-row"),A.Qb(4,"ion-col",28),A.Qb(5,"div",29),A.Qb(6,"div",30),A.Cc(7),A.Pb(),A.Pb(),A.Pb(),A.Qb(8,"ion-col",31),A.Qb(9,"b"),A.Cc(10),A.Pb(),A.Mb(11,"br"),A.Qb(12,"div"),A.Qb(13,"ion-badge",32),A.Cc(14),A.Pb(),A.Pb(),A.Pb(),A.Pb(),A.Pb(),A.Qb(15,"ion-button",33),A.Mb(16,"ion-icon",34),A.Pb(),A.Pb(),A.Pb()}if(2&t){const t=i.$implicit;A.zb(7),A.Ec(" ",t.SEQ_AVALIACAO," "),A.zb(3),A.Dc(t.DES_AVALIACAO),A.zb(4),A.Ec(" ","FINALIZADA"==t.SIT_AVALIACAO?"Lan\xe7amentos finalizados":"Aguardando lan\xe7amentos"," ")}}function O(t,i){1&t&&(A.Qb(0,"ion-item",35),A.Qb(1,"p",36),A.Cc(2,"Nenhuma avalia\xe7\xe3o dispon\xedvel..."),A.Pb(),A.Pb())}const p=function(t){return{"slide-in":t}},_=function(t){return[t]};function D(t,i){if(1&t&&(A.Ob(0),A.Qb(1,"ion-row"),A.Qb(2,"ion-col"),A.Qb(3,"h4",18),A.Cc(4,"Avalia\xe7\xf5es dispon\xedveis "),A.Qb(5,"b"),A.Cc(6),A.Pb(),A.Pb(),A.Pb(),A.Pb(),A.Qb(7,"ion-list",19),A.Ac(8,m,17,3,"div",20),A.Ac(9,O,3,0,"ion-item",21),A.Pb(),A.Qb(10,"ion-fab",22),A.Qb(11,"ion-fab-button",23),A.Mb(12,"ion-icon",24),A.Pb(),A.Pb(),A.Nb()),2&t){const t=A.bc(2);A.zb(6),A.Dc(t.dados.NME_TURMA),A.zb(1),A.hc("ngClass",A.mc(5,p,t.animate)),A.zb(1),A.hc("ngForOf",t.dados.avaliacoes),A.zb(1),A.hc("ngIf",0==t.dados.avaliacoes.length),A.zb(2),A.hc("routerLink",A.mc(7,_,"/app/academico/academico-avaliacao-novo/"+t.turmaAtiva.id))}}function C(t,i){1&t&&A.Mb(0,"span",44)}const P=function(t,i){return{selected:t,event:i}};function v(t,i){if(1&t){const t=A.Rb();A.Qb(0,"div",40),A.Yb("click",(function(){A.sc(t);const n=i.$implicit;return A.bc(3).selectDay(n)})),A.Qb(1,"span",41),A.Cc(2),A.Pb(),A.Qb(3,"div",42),A.Qb(4,"span"),A.Cc(5),A.Pb(),A.Ac(6,C,1,0,"span",43),A.Pb(),A.Pb()}if(2&t){const t=i.$implicit,n=A.bc(3);A.zb(2),A.Dc(t.label),A.zb(1),A.hc("ngClass",A.nc(4,P,n.isSelected(t),t.hasEvent)),A.zb(2),A.Dc(t.date.getDate()),A.zb(1),A.hc("ngIf",t.hasEvent)}}function S(t,i){1&t&&(A.Qb(0,"small",45),A.Cc(1,"Nenhuma aula dispon\xedvel para o filtro selecionado"),A.Pb())}function M(t,i){if(1&t&&(A.Ob(0),A.Qb(1,"ion-row"),A.Qb(2,"ion-col"),A.Qb(3,"h4",18),A.Cc(4,"Aulas dispon\xedveis "),A.Qb(5,"b"),A.Cc(6),A.Pb(),A.Pb(),A.Pb(),A.Pb(),A.Qb(7,"div",37),A.Ac(8,v,7,7,"div",38),A.Pb(),A.Ac(9,S,2,0,"small",39),A.Nb()),2&t){const t=A.bc(2);A.zb(6),A.Dc(t.dados.NME_TURMA),A.zb(2),A.hc("ngForOf",t.weekDays),A.zb(1),A.hc("ngIf",(null==t.aulas||null!=t.aulas&&0==t.aulas.length)&&!t.carregandoAulas)}}function E(t,i){if(1&t&&(A.Qb(0,"ion-badge",48),A.Cc(1),A.Pb()),2&t){const t=i.$implicit,n=A.bc(4);A.zb(1),A.Dc(n.cub3Svc.normalizeString(t.DES_DISCIPLINA))}}function T(t,i){if(1&t&&(A.Qb(0,"ion-item",35),A.Mb(1,"ion-icon",49),A.Cc(2," Disciplina(s) "),A.Ac(3,E,2,1,"ion-badge",50),A.Pb()),2&t){const t=A.bc(3);A.zb(3),A.hc("ngForOf",t.turmaAtiva.disciplinas)}}function N(t,i){if(1&t&&(A.Ob(0),A.Qb(1,"ion-row"),A.Qb(2,"ion-col"),A.Qb(3,"h4",18),A.Cc(4,"Informa\xe7\xf5es "),A.Qb(5,"b"),A.Cc(6),A.Pb(),A.Pb(),A.Pb(),A.Pb(),A.Qb(7,"ion-list",46),A.Qb(8,"ion-item"),A.Mb(9,"ion-icon",47),A.Cc(10," Turno "),A.Qb(11,"ion-badge",48),A.Cc(12),A.Pb(),A.Pb(),A.Ac(13,T,4,1,"ion-item",21),A.Pb(),A.Nb()),2&t){const t=A.bc(2);A.zb(6),A.Dc(t.dados.NME_TURMA),A.zb(6),A.Dc(t.cub3Svc.normalizeString(t.turmaAtiva.turno.descricao)),A.zb(1),A.hc("ngIf",t.turmaAtiva.disciplinas&&t.turmaAtiva.disciplinas.length>0)}}function F(t,i){1&t&&A.Mb(0,"span",44)}function R(t,i){if(1&t){const t=A.Rb();A.Qb(0,"div",40),A.Yb("click",(function(){A.sc(t);const n=i.$implicit;return A.bc(3).selectDay(n)})),A.Qb(1,"span",41),A.Cc(2),A.Pb(),A.Qb(3,"div",42),A.Qb(4,"span"),A.Cc(5),A.Pb(),A.Ac(6,F,1,0,"span",43),A.Pb(),A.Pb()}if(2&t){const t=i.$implicit,n=A.bc(3);A.zb(2),A.Dc(t.label),A.zb(1),A.hc("ngClass",A.nc(4,P,n.isSelected(t),t.hasEvent)),A.zb(2),A.Dc(t.date.getDate()),A.zb(1),A.hc("ngIf",t.hasEvent)}}function U(t,i){1&t&&(A.Ob(0),A.Mb(1,"ion-spinner",54),A.Nb())}function L(t,i){if(1&t&&(A.Qb(0,"div",30),A.Cc(1),A.Mb(2,"br"),A.Cc(3),A.Pb()),2&t){const t=A.bc(2).$implicit,i=A.bc(6);A.zb(1),A.Ec(" ",i.getHorarioDiscipinaInicio(t.horarios),""),A.zb(2),A.Ec("",i.getHorarioDiscipinaInicio(t.horarios,"fim")," ")}}function Q(t,i){if(1&t&&(A.Qb(0,"div",30),A.Cc(1),A.cc(2,"amDateFormat"),A.Mb(3,"br"),A.Cc(4),A.cc(5,"amDateFormat"),A.Pb()),2&t){const t=A.bc(3).$implicit;A.zb(1),A.Ec(" ",A.ec(2,2,t.horario.inicio,"HH:mm"),""),A.zb(3),A.Ec("",A.ec(5,5,t.horario.termino,"HH:mm")," ")}}function y(t,i){if(1&t&&(A.Qb(0,"ion-col",64),A.Qb(1,"div",29),A.Ac(2,L,4,2,"div",65),A.Ac(3,Q,6,8,"div",65),A.Pb(),A.Pb()),2&t){const t=A.bc(2).$implicit;A.zb(2),A.hc("ngIf",!t.horario),A.zb(1),A.hc("ngIf",t.horario)}}function x(t,i){if(1&t&&(A.Ob(0),A.Qb(1,"ion-row",66),A.Cc(2),A.Pb(),A.Nb()),2&t){const t=A.bc(2).$implicit;A.zb(2),A.Dc(t.assunto)}}function z(t,i){1&t&&(A.Ob(0),A.Qb(1,"ion-chip"),A.Mb(2,"ion-icon",67),A.Qb(3,"ion-label"),A.Cc(4,"Conte\xfado"),A.Pb(),A.Pb(),A.Nb())}function k(t,i){1&t&&(A.Ob(0),A.Qb(1,"ion-chip"),A.Mb(2,"ion-icon",68),A.Qb(3,"ion-label"),A.Cc(4,"Conte\xfado"),A.Pb(),A.Pb(),A.Nb())}function w(t,i){1&t&&(A.Ob(0),A.Qb(1,"ion-chip"),A.Mb(2,"ion-icon",67),A.Qb(3,"ion-label"),A.Cc(4,"Metodologia"),A.Pb(),A.Pb(),A.Nb())}function $(t,i){1&t&&(A.Ob(0),A.Qb(1,"ion-chip"),A.Mb(2,"ion-icon",68),A.Qb(3,"ion-label"),A.Cc(4,"Metodologia"),A.Pb(),A.Pb(),A.Nb())}function H(t,i){1&t&&(A.Ob(0),A.Qb(1,"ion-chip"),A.Mb(2,"ion-icon",67),A.Qb(3,"ion-label"),A.Cc(4,"Frequ\xeancia"),A.Pb(),A.Pb(),A.Nb())}function j(t,i){1&t&&(A.Ob(0),A.Qb(1,"ion-chip"),A.Mb(2,"ion-icon",68),A.Qb(3,"ion-label"),A.Cc(4,"Frequ\xeancia"),A.Pb(),A.Pb(),A.Nb())}function Y(t,i){if(1&t){const t=A.Rb();A.Qb(0,"div"),A.Qb(1,"ion-item",59),A.Yb("click",(function(){A.sc(t);const n=i.$implicit,a=A.bc().$implicit,e=A.bc(5);return e.selecionarAula(a,a.horario?e.getHora(a.horario.inicio):e.getHorarioDiscipinaInicio(n.horarios),a.horario?e.getHora(a.horario.termino):e.getHorarioDiscipinaInicio(n.horarios,"fim"),n)})),A.Qb(2,"ion-row",60),A.Qb(3,"ion-row"),A.Ac(4,y,4,2,"ion-col",61),A.Qb(5,"ion-col",62),A.Qb(6,"b"),A.Cc(7),A.Pb(),A.Mb(8,"br"),A.Qb(9,"div"),A.Qb(10,"ion-badge",32),A.Cc(11),A.Pb(),A.Pb(),A.Ac(12,x,3,1,"ng-container",6),A.Pb(),A.Pb(),A.Qb(13,"ion-row",63),A.Ac(14,z,5,0,"ng-container",6),A.Ac(15,k,5,0,"ng-container",6),A.Ac(16,w,5,0,"ng-container",6),A.Ac(17,$,5,0,"ng-container",6),A.Ac(18,H,5,0,"ng-container",6),A.Ac(19,j,5,0,"ng-container",6),A.Pb(),A.Pb(),A.Qb(20,"ion-button",33),A.Mb(21,"ion-icon",34),A.Pb(),A.Pb(),A.Pb()}if(2&t){const t=i.$implicit,n=A.bc().$implicit,a=A.bc(5);A.zb(4),A.hc("ngIf",t.horarios&&t.horarios.length>0),A.zb(3),A.Dc(n.titulo),A.zb(4),A.Ec(" ",a.cub3Svc.normalizeString(t.DES_DISCIPLINA)," "),A.zb(1),A.hc("ngIf",n.assunto),A.zb(2),A.hc("ngIf",n.conteudo&&n.conteudo.length>0),A.zb(1),A.hc("ngIf",!n.conteudo||n.conteudo&&0==n.conteudo.length),A.zb(1),A.hc("ngIf",n.assunto),A.zb(1),A.hc("ngIf",!n.assunto),A.zb(1),A.hc("ngIf",n.frequencia),A.zb(1),A.hc("ngIf",!n.frequencia)}}function B(t,i){if(1&t&&(A.Qb(0,"div",25),A.Ac(1,Y,22,10,"div",58),A.Pb()),2&t){const t=i.$implicit;A.zb(1),A.hc("ngForOf",t.disciplinas)}}function V(t,i){if(1&t&&(A.Ob(0),A.Ac(1,B,2,1,"div",20),A.Nb()),2&t){const t=A.bc(4);A.zb(1),A.hc("ngForOf",t.filteredHorarios)}}function G(t,i){1&t&&(A.Qb(0,"ion-item",35),A.Qb(1,"p",36),A.Cc(2,"Nenhuma aula dispon\xedvel na grade de hor\xe1rios selecionada..."),A.Pb(),A.Pb())}function q(t,i){if(1&t&&(A.Qb(0,"ion-row"),A.Qb(1,"ion-col"),A.Qb(2,"div",55),A.Qb(3,"h4",56),A.Cc(4,"Aulas "),A.Qb(5,"b"),A.Cc(6,"da turma"),A.Pb(),A.Qb(7,"ion-badge",57),A.Cc(8),A.Pb(),A.Pb(),A.Pb(),A.Pb(),A.Pb(),A.Qb(9,"ion-list",19),A.Ac(10,V,2,1,"ng-container",6),A.Ac(11,G,3,0,"ion-item",21),A.Pb()),2&t){const t=A.bc(3);A.zb(8),A.Ec("",t.filteredHorarios.length>0?t.filteredHorarios.length+" aula(s)":"Nenhuma aula"," "),A.zb(1),A.hc("ngClass",A.mc(4,p,t.animate)),A.zb(1),A.hc("ngIf",t.filteredHorarios.length>0),A.zb(1),A.hc("ngIf",0==t.filteredHorarios.length)}}function X(t,i){if(1&t&&(A.Ob(0),A.Qb(1,"ion-list",51),A.Qb(2,"div",37),A.Ac(3,R,7,7,"div",38),A.Pb(),A.Pb(),A.Ac(4,U,2,0,"ng-container",52),A.Ac(5,q,12,6,"ng-template",null,53,A.Bc),A.Nb()),2&t){const t=A.rc(6),i=A.bc(2);A.zb(3),A.hc("ngForOf",i.weekDays),A.zb(1),A.hc("ngIf",!i.horariosCarregados)("ngIfElse",t)}}function W(t,i){if(1&t&&(A.Qb(0,"ion-item",72),A.Qb(1,"ion-row"),A.Qb(2,"ion-col",28),A.Qb(3,"ion-avatar"),A.Mb(4,"img",73),A.Pb(),A.Pb(),A.Qb(5,"ion-col",74),A.Qb(6,"p",75),A.Qb(7,"ion-badge",76),A.Cc(8),A.Pb(),A.Qb(9,"b",77),A.Cc(10),A.Pb(),A.Mb(11,"br"),A.Qb(12,"small"),A.Qb(13,"b"),A.Cc(14,"Data de nascimento:"),A.Pb(),A.Cc(15),A.cc(16,"amDateFormat"),A.Pb(),A.Mb(17,"br"),A.Qb(18,"small"),A.Qb(19,"b"),A.Cc(20,"Sexo:"),A.Pb(),A.Cc(21),A.Pb(),A.Pb(),A.Pb(),A.Pb(),A.Pb()),2&t){const t=A.bc().$implicit,i=A.bc(3);A.hc("routerLink",A.mc(9,_,"/app/academico/academico-acompanhamentos/"+t.id)),A.zb(4),A.jc("src","assets/img/avatar-",2==t.sexo?"menina":"menino",".jpg",A.uc),A.zb(4),A.Dc(t.id),A.zb(2),A.Dc(i.cub3Svc.normalizeString(t.nome)),A.zb(5),A.Ec(" ",A.ec(16,6,t.dataNascimento,"DD/MM/YYYY"),""),A.zb(6),A.Ec(" ",1==t.sexo?"Masculino":"Feminino","")}}function J(t,i){if(1&t&&(A.Ob(0),A.Ac(1,W,22,11,"ion-item",71),A.Nb()),2&t){const t=i.$implicit;A.zb(1),A.hc("ngIf",t)}}function K(t,i){if(1&t&&(A.Ob(0),A.Qb(1,"ion-row"),A.Qb(2,"ion-col"),A.Qb(3,"h4",18),A.Cc(4,"Alunos "),A.Qb(5,"b"),A.Cc(6,"da turma"),A.Pb(),A.Qb(7,"ion-badge",57),A.Cc(8),A.Pb(),A.Pb(),A.Pb(),A.Pb(),A.Qb(9,"ion-list",69),A.Ac(10,J,2,1,"ng-container",70),A.Pb(),A.Nb()),2&t){const t=A.bc(2);A.zb(8),A.Ec("",t.dados.qtdAlunos," alunos"),A.zb(2),A.hc("ngForOf",t.turmaAtiva.alunos)}}function Z(t,i){if(1&t&&(A.Ob(0),A.Ob(1,16),A.Ac(2,D,13,9,"ng-container",17),A.Ac(3,M,10,3,"ng-container",17),A.Ac(4,N,14,3,"ng-container",17),A.Ac(5,X,7,3,"ng-container",17),A.Ac(6,K,11,2,"ng-container",17),A.Nb(),A.Nb()),2&t){const t=A.bc();A.zb(1),A.hc("ngSwitch",t.abaAtiva),A.zb(1),A.hc("ngSwitchCase","avaliacoes"),A.zb(1),A.hc("ngSwitchCase","aulas"),A.zb(1),A.hc("ngSwitchCase","informacoes"),A.zb(1),A.hc("ngSwitchCase","acoes"),A.zb(1),A.hc("ngSwitchCase","alunos")}}function tt(t,i){if(1&t){const t=A.Rb();A.Qb(0,"ion-fab",78),A.Qb(1,"ion-fab-button",79),A.Yb("click",(function(){return A.sc(t),A.bc().sincronizarAulas()})),A.Mb(2,"ion-icon",80),A.Pb(),A.Pb()}}function it(t,i){if(1&t&&(A.Qb(0,"ion-fab",22),A.Qb(1,"ion-fab-button",23),A.Mb(2,"ion-icon",24),A.Pb(),A.Pb()),2&t){const t=A.bc();A.zb(1),A.hc("routerLink",A.mc(1,_,"/app/academico/academico-aula-novo/"+t.turmaAtiva.id))}}const nt=[{path:"",component:(()=>{class t{constructor(t,i,n,a,e,o,c){this.route=t,this.alertCtrl=i,this.router=n,this.cd=a,this.location=e,this.cub3Svc=o,this.cub3Db=c,this.currentDate=new Date,this.currentDay=this.currentDate.getDay(),this.currentDayDate=this.currentDate.getDate(),this.weekDays=[],this.turmas=[],this.horariosCarregados=!1,this.filteredHorarios=[],this.filteredTurmas=[],this.filteredTurmasGroupedBySchool=[],this.animate=!1,this.turmaAtiva={NME_TURMA:""},this.dados={},this.usuario=l.a.getAccount(),this.carregandoAulas=!0,this.carregando=!0,this.abaAtiva="acoes",this.aulas=[],this.avaliacoes=[]}getHora(t){try{return u(t).format("HH:mm")}catch(i){return""}}selecionarAba(t){this.abaAtiva=t,this.cd.markForCheck()}selecionarAvaliacao(t){return Object(s.a)(this,void 0,void 0,(function*(){this.router.navigate([`/app/academico/academico-turma-nota-alunos/${this.dados.id}/${t.IDF_AVALIACAO||t.NRO_AVALIACAO}`])}))}selecionarAula(t,i,n,e){var o;return Object(s.a)(this,void 0,void 0,(function*(){let c=[];c=t.IDF_AULA?[{title:"Conte\xfado da aula"},{title:"Lan\xe7amento de frequ\xeancia"},{title:"Excluir aula",style:a.Destructive},{title:"Fechar op\xe7\xf5es",tipo:"fechar",style:a.Cancel}]:[{title:"Conte\xfado da aula"},{title:"Lan\xe7amento de frequ\xeancia"},{title:"Fechar op\xe7\xf5es",tipo:"fechar",style:a.Cancel}];const r=yield d.showActions({title:`Op\xe7\xf5es da aula de ${i} \xe0s ${n}`,message:"Selecione uma op\xe7\xe3o para a aula selecionada",options:c});if(r.index<0||c[r.index].tipo&&"fechar"===c[r.index].tipo)return;let b,A=yield this.cub3Db.getStorage("MOB_REGISTRO_AULA");if((null===(o=t.detalhesAula)||void 0===o?void 0:o.IDF_AULA)?b=A.find(i=>{var n;return parseInt(i.IDF_AULA)===parseInt(t.IDF_AULA||(null===(n=t.detalhesAula)||void 0===n?void 0:n.IDF_AULA))}):(u.utc(this.diaAtual.date).format("YYYY-MM-DD"),b=A.find(i=>i.DAT_AULA===t.DAT_AULA&&i.HOR_INICIO===t.HOR_INICIO&&i.HOR_TERMINO===t.HOR_TERMINO&&i.IDF_PROFISSIONAL===t.IDF_PROFISSIONAL&&parseInt(i.IDF_TURMA)===parseInt(t.IDF_TURMA)&&i.IDF_DISCIPLINA===t.IDF_DISCIPLINA)),!b&&!t.IDF_AULA){const t={IDF_AULA:Math.floor(1e3*Math.random())+1,DAT_AULA:u.utc(this.diaAtual.date).format("YYYY-MM-DD"),HOR_INICIO:i,HOR_TERMINO:n,IDF_TURMA:this.turmaAtiva.id,DES_TURMA:this.turmaAtiva.titulo,IDF_ETAPA:this.dados.IDF_ETAPA,IDF_DISCIPLINA:e.IDF_DISCIPLINA,DES_DISCIPLINA:e.DES_DISCIPLINA,IDF_PROFISSIONAL:this.usuario.id,DES_ASSUNTO:null,OBSERVACAO:"",SIT_REGISTRO:"PENDENTE",IDF_CONTEUDOS:[]};yield this.cub3Db.addStorage("MOB_REGISTRO_AULA",t),A.push(t),b=t}if(l.a.setItem("diaAtual",this.diaAtual),b)switch(r.index){case 0:this.router.navigate(["/app/academico/academico-aula-editar",b.IDF_AULA]);break;case 1:!b||b&&!b.DES_ASSUNTO?this.cub3Svc.alerta("Conte\xfado n\xe3o lan\xe7ado","Para registrar a frequ\xeancia, por gentileza, registre primeiro o conte\xfado da aula."):this.router.navigate([`/app/academico/academico-frequencia/${this.turmaAtiva.id}/${b.IDF_AULA}`]);break;case 2:const t=yield this.alertCtrl.create({header:"Excluir aula",message:"Tem certeza que deseja excluir esta aula?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Excluir",handler:()=>Object(s.a)(this,void 0,void 0,(function*(){const t=t=>`${u.utc(t.DAT_AULA).format("YYYY-MM-DD")}_${t.IDF_TURMA}_${t.IDF_PROFISSIONAL}_${t.IDF_DISCIPLINA}_${t.HOR_INICIO}_${t.HOR_TERMINO}`,i=t(b);A=A.filter(n=>t(n)!==i),this.aulas=A,b.SIT_REGISTRO="EXCLUIDO",this.cub3Db.updateStorage("MOB_REGISTRO_AULA",b,"IDF_AULA").then(()=>Object(s.a)(this,void 0,void 0,(function*(){let t=yield this.cub3Db.getStorage("MOV_REGISTRO_FREQUENCIA");t=t.filter(t=>!(parseInt(t.IDF_AULA)===parseInt(b.IDF_AULA))),yield this.cub3Db.setStorage("MOV_REGISTRO_FREQUENCIA",t),yield this.cub3Svc.sincronizar("MOB_REGISTRO_AULA"),this.cub3Svc.alerta("Remo\xe7\xe3o da aula","Aula removida com sucesso!"),this.aulas=[],setTimeout(()=>Object(s.a)(this,void 0,void 0,(function*(){yield this.atualizarAulas(),yield this.filterTurmas()})),300)})),()=>{this.cub3Svc.alerta("Ops!","N\xe3o foi poss\xedvel remover a aula. Tente novamente!")})}))}]});yield t.present()}else this.cub3Svc.alerta("Ocorreu um problema","Por favor, verifique a data de aula, disciplina e o assunto.")}))}getDisciplinaName(t){let i=this.turmaAtiva.disciplinas.find(i=>parseInt(i.IDF_DISCIPLINA)===parseInt(t+""));return i?this.cub3Svc.normalizeString(i.DES_DISCIPLINA):"Disciplina n\xe3o aplic\xe1vel"}ionViewWillEnter(){return Object(s.a)(this,void 0,void 0,(function*(){this.horariosCarregados=!1}))}ionViewDidEnter(){return Object(s.a)(this,void 0,void 0,(function*(){setTimeout(()=>{this.horariosCarregados=!0,this.cd.markForCheck()},3e3),this.turmas=yield this.cub3Svc.getTurmas(),this.generateWeekDays(),this.diaAtual=this.weekDays.find(t=>t.date.getDate()===this.currentDayDate),setTimeout(()=>Object(s.a)(this,void 0,void 0,(function*(){yield this.filterTurmas()})),500)}))}ionViewWillLeave(){this.horariosCarregados=!1,this.cd.markForCheck()}ngOnInit(){this.route.url.subscribe(()=>{const t=this.route.snapshot.params.id;t&&"undefined"!==t?(this.turmaAtiva.IDF_TURMA=t,this.init()):this.location.back()})}getAulasPorTurma(){return Object(s.a)(this,void 0,void 0,(function*(){yield this.cub3Svc.getNode("educanet/aulas/listar")}))}logarHomeClass(){return Object(s.a)(this,void 0,void 0,(function*(){l.a.getAccount()}))}abrirAula(t){return Object(s.a)(this,void 0,void 0,(function*(){const i=t.IDF_AULA,n=yield this.alertCtrl.create({header:"Selecione como gostaria de entrar na aula:",inputs:[{name:"radio1",type:"radio",label:"Como dispositivo principal",value:"principal",checked:!0},{name:"radio2",type:"radio",label:"Como dispositivo secund\xe1rio (apenas \xe1udio)",value:"secundario"}],buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Confirmar",handler:n=>Object(s.a)(this,void 0,void 0,(function*(){switch(n){case"principal":l.a.setItem("streamPrincipal",!0);break;case"secundario":l.a.setItem("streamPrincipal",!1)}this.cub3Svc.getNode("aulas/visualizar?id="+i).then(n=>{this.router.navigateByUrl("/app/academico/academico-aula-remota/"+i+"/"+t.IDF_TURMA,{replaceUrl:!0})},()=>{this.cub3Svc.postNode("aulas/novo",{curso_id:1,id:i,curso_tema_id:1,turma_id:t.IDF_TURMA,profissional_id:this.usuario.id,duracao:150,status:"PENDENTE",facial_abertura_instrutor:"",tipo:"REMOTO",camera:0,stream:"temonitore",microfone:0}).then(i=>{i&&i.result?(l.a.setItem("streamPrincipal",!0),this.cub3Svc.alertaToast("Nova aula","Aula criada com sucesso!","success"),this.router.navigate(["/app/academico/academico-aula-remota/"+i.dados.id+"/"+t.IDF_TURMA]),l.a.setItem("aulaAtual",i.dados)):this.cub3Svc.alerta("Ops!","N\xe3o foi poss\xedvel criar a aula. Por favor, tente novamente ou entre em contato com o suporte t\xe9cnico.")},t=>{this.cub3Svc.alerta("Ops!","N\xe3o foi poss\xedvel criar a aula. Por favor, tente novamente ou entre em contato com o suporte t\xe9cnico.")})})}))}]});yield n.present()}))}getKeyForAula(t){return`${t.DAT_AULA}-${t.HOR_INICIO}-${t.HOR_TERMINO}-${t.IDF_DISCIPLINA}-${t.IDF_PROFISSIONAL}-${t.IDF_TURMA}`}mergeAulas(t,i){return["DES_ASSUNTO","OBSERVACAO","IDF_CONTEUDOS","IDF_CONTEUDO"].forEach(n=>{i[n]&&(!t[n]||t[n].length<i[n].length)&&(t[n]=i[n])}),t}getAulas(t){return this.carregandoAulas=!0,new Promise((t,i)=>Object(s.a)(this,void 0,void 0,(function*(){let n=yield this.cub3Db.getStorage("MOB_REGISTRO_AULA");this.cub3Svc.getNode("educanet/aulas/mobile?idf_turma="+this.turmaAtiva.id).then(i=>Object(s.a)(this,void 0,void 0,(function*(){if(this.aulas||(this.aulas=[]),i&&i.dados){for(const t of i.dados){const i=t.conteudos.map(t=>({ANO_LETIVO:t.anoLetivo,IDF_CONTEUDO:t.idfConteudo,SEQ_CONTEUDO:t.seqConteudo,NRO_HORAAULA:t.duracaoMinutos,IDF_ETAPA:t.idfEtapa,DES_ETAPA:t.descricaoEtapa,IDF_DISCIPLINA:t.disciplinaId,DES_DISCIPLINA:t.descricaoDisciplina,NRO_AVALIACAO:t.avaliacaoNumero,DES_AVALIACAO:t.descricaoAvaliacao})),n=`${t.dataAula}-${t.horInicio}-${t.horTermino}-${t.idfDisciplina}-${t.idfTurma}`,a=this.aulas.findIndex(t=>`${t.DAT_AULA}-${t.HOR_INICIO}-${t.HOR_TERMINO}-${t.IDF_DISCIPLINA}-${t.IDF_TURMA}`===n);if(-1!==a){let n=this.aulas[a];n.DES_ASSUNTO=t.descricaoAssunto||n.DES_ASSUNTO,n.IDF_CONTEUDOS=[...new Set([...n.IDF_CONTEUDOS,...i])],n.OBSERVACAO=t.observacao||n.OBSERVACAO}else this.aulas.push({IDF_AULA:t.idfAula||null,DAT_AULA:t.dataAula,HOR_INICIO:t.horInicio||"",HOR_TERMINO:t.horTermino||"",IDF_TURMA:t.idfTurma||null,DES_TURMA:t.desTurma||"",IDF_ETAPA:t.idfEtapa||null,IDF_DISCIPLINA:t.idfDisciplina,DES_DISCIPLINA:t.desDisciplina||"",SIT_REGISTRO:t.sitRegistro||"PENDENTE",IDF_PROFISSIONAL:t.idfProfissional,DES_ASSUNTO:t.descricaoAssunto||"",OBSERVACAO:t.observacao||"",IDF_ALUNO_AUSENTES:t.idfAlunoAusentes||[],IDF_CONTEUDOS:i||[]})}this.aulas=this.deduplicateAulas([...n,...this.aulas]),yield this.cub3Db.setStorage("MOB_REGISTRO_AULA",this.aulas)}t(n)})),n=>{switch(console.error(n),n.status){case 500:this.carregandoAulas=!1,t(this.cub3Db.getStorage("MOB_REGISTRO_AULA"));break;default:this.carregandoAulas=!1,i(!1)}})})))}deduplicateAulas(t){const i=new Map;return t.forEach(t=>{var n,a,e,o;const c=`${t.DAT_AULA}-${t.HOR_INICIO}-${t.HOR_TERMINO}-${t.IDF_DISCIPLINA}-${t.IDF_TURMA}`;if(i.has(c)){let r=i.get(c);r.DES_ASSUNTO=t.DES_ASSUNTO||r.DES_ASSUNTO,r.OBSERVACAO=t.OBSERVACAO||r.OBSERVACAO,r.IDF_ALUNO_AUSENTES=[...new Set([...null!==(n=r.IDF_ALUNO_AUSENTES)&&void 0!==n?n:[],...null!==(a=t.IDF_ALUNO_AUSENTES)&&void 0!==a?a:[]])],r.IDF_CONTEUDOS=[...new Set([...null!==(e=r.IDF_CONTEUDOS)&&void 0!==e?e:[],...null!==(o=t.IDF_CONTEUDOS)&&void 0!==o?o:[]])]}else i.set(c,t)}),Array.from(i.values())}generateWeekDays(){this.weekDays=[];const t=this.getStartOfWeek(this.currentDate);for(let i=0;i<7;i++){const n=new Date(t);n.setDate(t.getDate()+i),this.weekDays.push({label:this.getDayLabel(i),date:n,hasEvent:this.checkIfDayHasEvent(this.getDayLabel(i))})}}getStartOfWeek(t){const i=t.getDay(),n=t.getDate()-i+(0===i?-6:1);return new Date(t.setDate(n))}getDayLabel(t){return["SEG","TER","QUA","QUI","SEX","SAB","DOM"][t]}checkIfDayHasEvent(t){const i={DOM:"Domingo",SEG:"Segunda",TER:"Ter\xe7a",QUA:"Quarta",QUI:"Quinta",SEX:"Sexta",SAB:"S\xe1bado"}[t];return this.turmas.some(t=>t.disciplinas.some(t=>t.horarios.some(t=>t.dia===i)))}selectDay(t){this.horariosCarregados=!1,this.cd.markForCheck(),this.diaAtual=t,this.animate=!1,setTimeout(()=>{this.animate=!0,this.filterTurmas()},0)}isSelected(t){return this.diaAtual&&this.diaAtual.date.getDate()===t.date.getDate()}formatDate(t){return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`}getHorarioDiscipinaInicio(t,i="inicio"){try{const n=this.diaAtual.date.getDay();return(t.find(t=>t.diaId===n)||{})[i]}catch(n){return""}}filterTurmas(){return Object(s.a)(this,void 0,void 0,(function*(){if(!this.diaAtual||!this.turmaAtiva)return this.horariosCarregados=!0,void this.cd.markForCheck();const t={DOM:"Domingo",SEG:"Segunda",TER:"Ter\xe7a",QUA:"Quarta",QUI:"Quinta",SEX:"Sexta",SAB:"S\xe1bado"}[this.diaAtual.label],i=this.formatDate(this.diaAtual.date);let n=new Map;const a=[];(yield this.cub3Db.getStorage("MOB_REGISTRO_AULA")).forEach(t=>{if(t.DAT_AULA===i&&t.HOR_INICIO&&t.HOR_TERMINO){const e=u(`${i} ${t.HOR_INICIO}`,"YYYY-MM-DD HH:mm"),o=u(`${i} ${t.HOR_TERMINO}`,"YYYY-MM-DD HH:mm"),c=`${i}-${e.format("HH:mm:ss")}-${o.format("HH:mm:ss")}-${t.IDF_DISCIPLINA}`;if(n.has(c)){let i=n.get(c);i.assunto=t.DES_ASSUNTO||i.assunto,i.IDF_CONTEUDOS=[...new Set([...i.IDF_CONTEUDOS,...t.IDF_CONTEUDOS||[]])],i.frequencia=!!(t.IDF_ALUNO_AUSENTES&&t.IDF_ALUNO_AUSENTES.length>0)||i.frequencia||t.temFrequencia}else n.set(c,{IDF_AULA:t.IDF_AULA,DAT_AULA:t.DAT_AULA,HOR_INICIO:t.HOR_INICIO,HOR_TERMINO:t.HOR_TERMINO,IDF_PROFISSIONAL:t.IDF_PROFISSIONAL,IDF_TURMA:t.IDF_TURMA,IDF_DISCIPLINA:t.IDF_DISCIPLINA,IDF_CONTEUDOS:t.IDF_CONTEUDOS||[],horario:{inicio:e,termino:o,diaId:this.diaAtual.date.getDay()},titulo:this.turmaAtiva.titulo,assunto:t.DES_ASSUNTO,conteudo:t.IDF_CONTEUDOS,frequencia:!!(t.IDF_ALUNO_AUSENTES&&t.IDF_ALUNO_AUSENTES.length>0)||t.temFrequencia,disciplinas:[{IDF_DISCIPLINA:t.IDF_DISCIPLINA,DES_DISCIPLINA:this.getDisciplinaName(t.IDF_DISCIPLINA),IDF_TURMA:t.IDF_TURMA,horarios:[{inicio:t.HOR_INICIO,fim:t.HOR_TERMINO}]}],nomeEscola:this.turmaAtiva.nomeEscola});a.push({inicio:e,termino:o,IDF_DISCIPLINA:t.IDF_DISCIPLINA})}}),this.turmaAtiva.disciplinas.forEach(e=>{e.horarios.forEach(o=>{if(o.dia===t){const t=u(`${i} ${o.inicio}`,"YYYY-MM-DD HH:mm"),c=u(`${i} ${o.fim}`,"YYYY-MM-DD HH:mm");if(!a.some(i=>t.isBefore(u(i.termino))&&c.isAfter(u(i.inicio)))){const a=`${i}-${t.format("HH:mm:ss")}-${c.format("HH:mm:ss")}`;n.set(a,{horario:{inicio:t,termino:c},titulo:this.turmaAtiva.titulo,disciplinas:[e],nomeEscola:this.turmaAtiva.nomeEscola})}}})}),this.filteredHorarios=Array.from(n.values()),setTimeout(()=>{this.horariosCarregados=!0,this.cd.markForCheck()},500)}))}convertTimeToMinutes(t){const[i,n]=t.split(":").map(Number);return 60*i+n}groupTurmasBySchool(){const t=this.filteredTurmas.reduce((t,i)=>{const n=i.nomeEscola;return t[n]||(t[n]=[]),t[n].push(i),t},{});this.filteredTurmasGroupedBySchool=Object.keys(t).map(i=>({school:i,turmas:t[i]}))}sincronizarAulas(){return Object(s.a)(this,void 0,void 0,(function*(){const t=yield this.cub3Svc.carregar(1);this.cub3Svc.sincronizar("MOB_REGISTRO_AULA").then(()=>Object(s.a)(this,void 0,void 0,(function*(){yield this.atualizarAulas(),this.filterTurmas(),t.dismiss(),this.cub3Svc.Toast("Registros sincronizados com sucesso!")})),()=>Object(s.a)(this,void 0,void 0,(function*(){yield this.atualizarAulas(),this.filterTurmas(),t.dismiss(),this.cub3Svc.Toast("Registros atualizados com sucesso!")})))}))}init(){return Object(s.a)(this,void 0,void 0,(function*(){this.usuario=l.a.getAccount(),this.dados=l.a.getItem("data"),this.diaAtual=this.weekDays.find(t=>t.date.getDate()===this.currentDayDate);const t=yield this.cub3Svc.getTurmas();let i=this.dados.MOB_DISCIPLINAS||[],n=this.dados.MOB_ETAPAS||[],a=this.dados.MOB_PROF_DISCIPLINAS||[],e=this.dados.MOB_TURMAS_ALUNOS||[],o=t.find(t=>parseInt(t.id)===parseInt(this.turmaAtiva.IDF_TURMA));if(!o)return;this.turmaAtiva=o;let c=a.filter(t=>parseInt(t.IDF_TURMA)===parseInt(o.IDF_TURMA)).map(t=>{let a=i.find(i=>i.IDF_DISCIPLINA===t.IDF_DISCIPLINA),c=n.find(t=>t.IDF_ETAPA===o.IDF_ETAPA),r=e.filter(t=>parseInt(t.IDF_TURMA)===parseInt(o.IDF_TURMA)).length;return Object.assign(Object.assign({},t),{NME_DISCIPLINA:a?a.NME_DISCIPLINA:null,DES_ETAPA:c?c.DES_ETAPA:null,NME_TURMA:o.NME_TURMA,TURNO:o.TURNO,qtdAlunos:r})});return this.dados={NME_DISCIPLINA:o.disciplinas[0]||"",DES_ETAPA:o.etapa?o.etapa.DES_ETAPA:null,IDF_ETAPA:o.etapa?o.etapa.IDF_ETAPA:null,NME_TURMA:o.titulo,TURNO:o.turno,id:o.id,avaliacoes:o.avaliacoes||[],qtdAlunos:o.alunos.length||0},this.atualizarAulas(),this.atualizarAvaliacoes(),setTimeout(()=>{let t=l.a.getItem("diaAtual");this.diaAtual=t?Object.assign(Object.assign({},t),{date:new Date(t.date)}):this.weekDays.find(t=>t.date.getDate()===this.currentDayDate),this.selectDay(this.diaAtual),this.cd.markForCheck()},1e3),this.carregando=!1,c}))}atualizarAulas(){return Object(s.a)(this,void 0,void 0,(function*(){let t=yield this.getAulas();if(!t)return;t=t.filter(t=>parseInt(t.IDF_TURMA)===parseInt(this.turmaAtiva.id)&&"EXCLUIDO"!==t.SIT_REGISTRO);const i=((yield this.cub3Db.getStorage("MOV_REGISTRO_FREQUENCIA"))||[]).reduce((t,i)=>(t[parseInt(i.IDF_AULA)]||(t[parseInt(i.IDF_AULA)]=[]),t[parseInt(i.IDF_AULA)].push(i),t),{}),n=t.reduce((t,n)=>{const a=`${n.DAT_AULA}-${n.HOR_INICIO}-${n.HOR_TERMINO}-${n.IDF_PROFISSIONAL}-${n.IDF_DISCIPLINA}`;return t[a]?(t[a].DES_ASSUNTO=n.DES_ASSUNTO||t[a].DES_ASSUNTO,n.IDF_CONTEUDOS.forEach(i=>t[a].IDF_CONTEUDOS.add(i)),t[a].temFrequencia=t[a].temFrequencia||i[parseInt(n.IDF_AULA)]&&i[parseInt(n.IDF_AULA)].length>0||n.idfAlunoAusentes&&n.idfAlunoAusentes.length>0):(t[a]=Object.assign(Object.assign({},n),{frequencias:i[n.IDF_AULA]||[],IDF_CONTEUDOS:new Set(n.IDF_CONTEUDOS||[])}),t[a].temFrequencia=t[a].frequencias.length>0||n.idfAlunoAusentes&&n.idfAlunoAusentes.length>0),t},{});Object.keys(n).forEach(t=>{n[t].IDF_CONTEUDOS=Array.from(n[t].IDF_CONTEUDOS)}),this.aulas=Object.values(n),yield this.cub3Db.setStorage("MOB_REGISTRO_AULA",this.aulas),this.cd.markForCheck()}))}atualizarAvaliacoes(){const t=l.a.getItem("data");t&&t.MOB_REGISTRO_AVALIACAO&&(this.avaliacoes=t.MOB_REGISTRO_AVALIACAO||[]),this.cd.markForCheck()}removerAula(t){return Object(s.a)(this,void 0,void 0,(function*(){const i=yield this.alertCtrl.create({header:"Confirme a exclus\xe3o",message:"Deseja excluir a aula selecionada?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Sim",handler:()=>{this.cub3Db.delStorage("MOB_REGISTRO_AULA",t.IDF_AULA,"IDF_AULA").then(()=>Object(s.a)(this,void 0,void 0,(function*(){this.cub3Svc.alerta("Remo\xe7\xe3o da aula","Aula removida com sucesso!"),yield this.cub3Svc.sincronizar("MOB_REGISTRO_AULA"),this.sincronizarAulas()})),()=>{this.cub3Svc.alerta("Ops!","N\xe3o foi poss\xedvel remover a aula. Tente novamente!")})}}]});yield i.present()}))}removerAvaliacao(t){return Object(s.a)(this,void 0,void 0,(function*(){const i=yield this.alertCtrl.create({header:"Confirme a exclus\xe3o",message:"Deseja excluir a avalia\xe7\xe3o selecionada?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Sim",handler:()=>{this.cub3Db.del("MOB_REGISTRO_AVALIACAO",t.id,"id").then(()=>{this.cub3Svc.alerta("Remo\xe7\xe3o da avalia\xe7\xe3o","Avalia\xe7\xe3o removida com sucesso!"),this.atualizarAvaliacoes()},()=>{this.cub3Svc.alerta("Ops!","N\xe3o foi poss\xedvel remover a avalia\xe7\xe3o. Tente novamente!")})}}]});yield i.present()}))}getAlunosDaTurma(){let t=this.dados.MOB_ALUNOS,i=this.dados.MOB_TURMAS_ALUNOS;return this.dados.MOB_TURMAS.find(t=>parseInt(t.IDF_TURMA)===parseInt(this.turmaAtiva.IDF_TURMA))?i.filter(t=>parseInt(t.IDF_TURMA)===parseInt(this.turmaAtiva.IDF_TURMA)).map(i=>{let n=t.find(t=>t.IDF_ALUNO===i.IDF_ALUNO);return n&&n.IDF_ALUNO?n:null}).filter(t=>null!==t).sort((t,i)=>t.NME_ALUNO.localeCompare(i.NME_ALUNO)):[]}listarTurmas(t){let i=[];return t.forEach(t=>{t.turmas.forEach(t=>{i.push(t)})}),i}iniciarTurma(){return Object(s.a)(this,void 0,void 0,(function*(){const t=(yield this.cub3Svc.getTurmas()).filter(t=>t.id===this.turmaAtiva.id);this.dados=t,this.carregando=!1,this.cd.markForCheck()}))}}return t.\u0275fac=function(i){return new(i||t)(A.Lb(r.a),A.Lb(c.b),A.Lb(r.g),A.Lb(A.h),A.Lb(e.n),A.Lb(h.a),A.Lb(g.a))},t.\u0275cmp=A.Fb({type:t,selectors:[["app-academico-turma"]],decls:40,vars:21,consts:[[3,"classeF","titulo","voltar","icone","exibirAvatar","exibirDivisor","exibirVoltarLabel"],[2,"display","flex","justify-content","center","align-items","center","flex-direction","column","padding","0 20px 40px 20px"],[1,"header4",2,"margin","0","padding","0","font-weight","bold","text-align","center","color","white"],[2,"color","white",3,"innerHTML"],["color","light"],["id","container",2,"margin-top","0","background","white","border-radius","20px 20px 0px 0px","padding","0px 5px 0px 5pxadsdasdasasddssaddddddddd"],[4,"ngIf"],["vertical","bottom","horizontal","start","slot","fixed",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],["justify-content-between",""],["size","3","text-center",""],["fill","clear","expand","full",3,"click"],["slot","icon-only","name","calendar-outline"],["slot","icon-only","name","albums-outline"],["slot","icon-only","name","alert-outline"],["slot","icon-only","name","people-outline"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"header4"],[1,"alunos-lista","listOpcoes","w-full",2,"margin-top","0px","margin-bottom","20vh !important",3,"ngClass"],["class","w-full",4,"ngFor","ngForOf"],["lines","none",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],["color","danger",3,"routerLink"],["name","add-circle-outline"],[1,"w-full"],["lines","full",1,"w-full"],[1,"w-full",2,"padding","10px 0 5px 0",3,"click"],["size","1"],[2,"display","flex","justify-content","center","align-items","center","flex-direction","column","background-color","#fff6e8","padding","10px","border-radius","20px"],[2,"font-size",".8em"],["size","11",1,"details-column",2,"padding-top","10px"],["color","secondary",2,"margin-right","5px"],["fill","none",2,"position","absolute","right","0"],["slot","end","color","primary","name","chevron-forward-outline"],["lines","none"],[2,"text-align","center","width","100%"],[1,"week-grid"],[3,"click",4,"ngFor","ngForOf"],["class","msg-vazio",4,"ngIf"],[3,"click"],[1,"calendario-label"],[3,"ngClass"],["class","event-dot",4,"ngIf"],[1,"event-dot"],[1,"msg-vazio"],[1,"listOpcoes"],["name","time-outline","color","primary","slot","start"],["slot","end"],["name","albums-outline","color","primary","slot","start"],["slot","end",4,"ngFor","ngForOf"],[2,"margin-top","0px !important","padding","0px"],[4,"ngIf","ngIfElse"],["horarios",""],["color","primary"],[2,"display","flex","justify-content","space-between","align-items","center"],[1,"header4",2,"margin","0"],[1,"float-right"],["style","",4,"ngFor","ngForOf"],["lines","full",1,"w-full",3,"click"],[1,"w-full",2,"padding","10px 0 5px 0"],["size","2",4,"ngIf"],["size","10",1,"details-column",2,"padding-top","10px"],[1,"linha-check"],["size","2"],["style","font-size: .8em;",4,"ngIf"],[1,"assunto"],["name","checkmark","color","success"],["name","close","color","danger"],[1,"alunos-lista","listOpcoes"],[4,"ngFor","ngForOf"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[3,"src"],["size","11"],[1,"turmaDias",2,"position","relative"],["slot","end","color","secondary",2,"float","right","font-size",".8em","position","absolute","right","0","bottom","2"],[2,"color","black"],["vertical","bottom","horizontal","start","slot","fixed"],["color","light",3,"click"],["name","sync-outline","color","primary"]],template:function(t,i){1&t&&(A.Qb(0,"cub3-header",0),A.Qb(1,"ion-row"),A.Qb(2,"ion-col",1),A.Qb(3,"h4",2),A.Cc(4),A.Pb(),A.Mb(5,"span",3),A.Qb(6,"ion-chip",4),A.Cc(7),A.Pb(),A.Pb(),A.Pb(),A.Pb(),A.Qb(8,"ion-content"),A.Qb(9,"div",5),A.Ac(10,Z,7,6,"ng-container",6),A.Pb(),A.Ac(11,tt,3,0,"ion-fab",7),A.Ac(12,it,3,3,"ion-fab",8),A.Pb(),A.Qb(13,"ion-footer"),A.Qb(14,"ion-toolbar"),A.Qb(15,"ion-row",9),A.Qb(16,"ion-col",10),A.Qb(17,"ion-button",11),A.Yb("click",(function(){return i.selecionarAba("acoes")})),A.Qb(18,"span"),A.Mb(19,"ion-icon",12),A.Qb(20,"ion-label"),A.Cc(21,"Aulas"),A.Pb(),A.Pb(),A.Pb(),A.Pb(),A.Qb(22,"ion-col",10),A.Qb(23,"ion-button",11),A.Yb("click",(function(){return i.selecionarAba("avaliacoes")})),A.Qb(24,"span"),A.Mb(25,"ion-icon",13),A.Qb(26,"ion-label"),A.Cc(27,"Avalia\xe7\xf5es"),A.Pb(),A.Pb(),A.Pb(),A.Pb(),A.Qb(28,"ion-col",10),A.Qb(29,"ion-button",11),A.Yb("click",(function(){return i.selecionarAba("informacoes")})),A.Qb(30,"span"),A.Mb(31,"ion-icon",14),A.Qb(32,"ion-label"),A.Cc(33,"Informa\xe7\xf5es"),A.Pb(),A.Pb(),A.Pb(),A.Pb(),A.Qb(34,"ion-col",10),A.Qb(35,"ion-button",11),A.Yb("click",(function(){return i.selecionarAba("alunos")})),A.Qb(36,"span"),A.Mb(37,"ion-icon",15),A.Qb(38,"ion-label"),A.Cc(39,"Alunos"),A.Pb(),A.Pb(),A.Pb(),A.Pb(),A.Pb(),A.Pb(),A.Pb()),2&t&&(A.hc("classeF","bgTransparente bgTurma")("titulo","Detalhes <br /> <b>"+i.turmaAtiva.NME_TURMA+"</b>")("voltar",!0)("icone","bookmarks-outline")("exibirAvatar",!1)("exibirDivisor",!0)("exibirVoltarLabel",!1),A.zb(4),A.Dc(i.turmaAtiva.titulo),A.zb(1),A.hc("innerHTML",i.cub3Svc.normalizeString(i.turmaAtiva.nomeEscola),A.tc),A.zb(2),A.Dc(i.cub3Svc.normalizeString(null==i.turmaAtiva.turno?null:i.turmaAtiva.turno.descricao)),A.zb(3),A.hc("ngIf",null!=i.dados&&!i.carregando),A.zb(1),A.hc("ngIf","acoes"==i.abaAtiva),A.zb(1),A.hc("ngIf",i.horariosCarregados),A.zb(5),A.Db("active","acoes"===i.abaAtiva),A.zb(6),A.Db("active","avaliacoes"===i.abaAtiva),A.zb(6),A.Db("active","informacoes"===i.abaAtiva),A.zb(6),A.Db("active","alunos"===i.abaAtiva))},directives:[f.a,c.gb,c.t,c.s,c.u,e.t,c.z,c.zb,c.k,c.C,c.N,e.x,e.y,c.O,e.q,e.s,c.w,c.x,c.Kb,r.h,c.H,c.j,c.pb,c.f],pipes:[I.c],styles:['ion-footer[_ngcontent-%COMP%]{--background:#fff;--border-style:none;--padding:0}ion-footer[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%], ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{padding:0}ion-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{border-radius:10px}ion-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;padding:5px 15px;border-radius:10px;font-weight:700;color:#999}ion-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:0}ion-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#000!important;padding-top:2px;font-size:.7em!important}ion-footer[_ngcontent-%COMP%]   ion-button.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;padding:5px 15px;border-radius:10px;color:var(--ion-color-primary);font-weight:700}ion-footer[_ngcontent-%COMP%]   ion-button.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:var(--ion-color-primary)!important}ion-button[_ngcontent-%COMP%]{--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;display:flex;align-items:center;justify-content:center}ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}ion-label[_ngcontent-%COMP%]{font-size:.8rem;display:block}ion-segment[_ngcontent-%COMP%]{padding:0 10px 20px}.aulas-lista[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:column;overflow-x:auto;width:100%;height:200px}.aulas-lista[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{cursor:pointer;width:33%;float:left;min-width:300px;border-radius:15px;--background:#000}.aulas-lista[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]:hover{opacity:.8}.aulas-lista[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{transition:background-image 1s linear}.aulas-lista[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]:after{width:100%;height:100%;display:block;position:absolute;left:0;top:0;background:linear-gradient(180deg,#dedede,#fff)!important;opacity:1;z-index:0;content:""}.aulas-lista[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{bottom:20px;padding:10px;display:block;position:absolute}.aulas-lista[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{clear:both;display:block}.aulas-lista[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .aulas-lista[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{clear:both;position:relative;z-index:1;padding:5px 10px;border-radius:5px;background:var(--ion-color-primary);color:#000}.aulas-lista[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:inline-block;margin-top:5px;background:#000;color:#fff}.p4[_ngcontent-%COMP%]{font-size:.9em}.header4[_ngcontent-%COMP%], .p4[_ngcontent-%COMP%]{padding:0 20px;margin:0}ion-spinner[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 20px);top:50%}.d-none[_ngcontent-%COMP%]{display:none;visibility:hidden}.msg-vazio[_ngcontent-%COMP%]{width:100%;text-align:center;display:block;background:#fafafa;padding:30px;border-radius:20px;max-width:300px;margin:30px auto;font-weight:700;background:#000;color:#fff}.avatar[_ngcontent-%COMP%]{top:30px;width:40px;height:40px;-o-object-fit:cover;object-fit:cover;border-radius:50%;margin:10px;position:absolute;right:20px;z-index:9}.badge-horario[_ngcontent-%COMP%]{background:#fff;color:#000;z-index:1;display:block;left:25px}.badge-horario[_ngcontent-%COMP%], .id-aula[_ngcontent-%COMP%]{position:absolute;font-size:.8em}.id-aula[_ngcontent-%COMP%]{right:25px;z-index:10;background:#000;color:#fff;font-weight:700;padding:2px 5px;border-radius:4px}.item-branco[_ngcontent-%COMP%]{background:#fff!important;--background:#fff!important}.listOpcoes[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;--color:#fff}.week-grid[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 10px 10px}.week-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center;cursor:pointer;padding:10px;position:relative}.week-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .calendario-label[_ngcontent-%COMP%]{font-weight:700;font-size:.8em}.week-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .day-label[_ngcontent-%COMP%]{display:block;font-weight:700}.week-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .day-date[_ngcontent-%COMP%]{display:block}.week-grid[_ngcontent-%COMP%]   div.selected[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);color:#fff;border-radius:50%;min-width:40px}.week-grid[_ngcontent-%COMP%]   div.event[_ngcontent-%COMP%]{position:relative}.week-grid[_ngcontent-%COMP%]   div.event[_ngcontent-%COMP%]   .event-dot[_ngcontent-%COMP%]{position:absolute;bottom:-10px;left:50%;transform:translateX(-50%);width:6px;height:6px;background-color:red;border-radius:50%}ion-item-divider[_ngcontent-%COMP%]{background-color:#f4f4f4}.time-column[_ngcontent-%COMP%]{text-align:center}.details-column[_ngcontent-%COMP%]{display:block}.slide-in[_ngcontent-%COMP%]{animation:slideIn .5s forwards}@keyframes slideIn{0%{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}.assunto[_ngcontent-%COMP%]{background:#fafafa;padding:10px;font-size:.8em;border-radius:10px}.linha-check[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.linha-check[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{font-size:.7em;background-color:#fff;margin-right:5px}'],changeDetection:0}),t})()}];let at=(()=>{class t{}return t.\u0275mod=A.Jb({type:t}),t.\u0275inj=A.Ib({factory:function(i){return new(i||t)},imports:[[r.k.forChild(nt)],r.k]}),t})();var et=n("HBpY");let ot=(()=>{class t{}return t.\u0275mod=A.Jb({type:t}),t.\u0275inj=A.Ib({factory:function(i){return new(i||t)},imports:[[e.c,o.e,I.l,c.Bb,et.a,at]]}),t})()}}]);